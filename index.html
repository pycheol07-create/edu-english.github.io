<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>오늘의 영어 회화 패턴</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .english-text {
            font-family: 'Roboto', sans-serif;
        }
        /* 로딩 스피너 스타일 */
        .loader {
            border: 4px solid #f3f3f3;
            border-radius: 50%;
            border-top: 4px solid #3498db;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        /* TTS 재생 중 애니메이션 */
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }
        .tts-btn.is-playing svg {
            color: #3b82f6; /* Tailwind blue-500 */
            animation: pulse 1.5s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="w-full max-w-3xl mx-auto p-4 md:p-8 py-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 english-text">🇺🇸 오늘의 영어 회화 패턴 🇺🇸</h1>
            <p id="current-date" class="text-gray-500 mt-2"></p>
        </header>

        <main id="pattern-container" class="space-y-6">
            <!-- 영어 패턴 카드가 여기에 동적으로 추가됩니다. -->
        </main>

        <footer class="text-center mt-8">
            <div class="flex justify-center items-center space-x-4">
                <button id="new-pattern-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 shadow-lg text-lg">
                    새로운 패턴 보기
                </button>
                <button id="all-patterns-btn" class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-3 px-6 rounded-lg transition-colors duration-300 shadow-lg text-lg">
                    전체 패턴 보기
                </button>
            </div>
            <p class="text-xs text-gray-400 mt-4">매일 자정이 지나면 새로운 패턴이 자동으로 표시됩니다.</p>
            <p class="text-xs text-gray-400 mt-1">v.2025.10.17-13-en</p>
        </footer>
    </div>

    <!-- "이렇게 말하고 싶어요!" 플로팅 버튼 -->
    <button id="open-translator-btn" class="fixed bottom-6 right-6 bg-green-500 hover:bg-green-600 text-white font-bold rounded-full w-16 h-16 flex items-center justify-center shadow-xl transition-transform transform hover:scale-110">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25" />
        </svg>
    </button>
    
    <!-- 번역기 팝업 (모달) -->
    <div id="translator-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-40">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-lg p-6 relative flex flex-col max-h-[90vh]">
            <div class="flex-shrink-0">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800">이렇게 말하고 싶어요!</h2>
                    <button id="close-translator-btn" class="p-1 rounded-full hover:bg-gray-200">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-gray-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <p class="text-gray-600 mb-4">자연스러운 원어민 표현이 궁금한 한국어 문장을 입력해보세요.</p>
                <textarea id="korean-input" class="w-full p-2 border border-gray-300 rounded-md h-24" placeholder="예) 지금 너무 귀찮아서 나중에 씻을거야"></textarea>
                <button id="translate-btn" class="w-full mt-4 bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded-lg">원어민 표현 찾아보기</button>
            </div>
            <div id="translation-result" class="mt-4 p-4 bg-gray-50 rounded-md min-h-[100px] overflow-y-auto">
                 <p class="text-gray-400 text-center">결과가 여기에 표시됩니다.</p>
            </div>
        </div>
    </div>

    <!-- Custom Alert Modal -->
    <div id="custom-alert-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-50">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-sm p-6 text-center">
            <p id="custom-alert-message" class="text-gray-700 mb-4"></p>
            <button id="custom-alert-close-btn" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-6 rounded-lg">확인</button>
        </div>
    </div>

    <!-- 전체 패턴 목록 팝업 (모달) -->
    <div id="all-patterns-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 hidden z-40">
        <div class="bg-white rounded-lg shadow-2xl w-full max-w-2xl p-6 relative flex flex-col max-h-[90vh]">
            <div class="flex-shrink-0">
                <div class="flex justify-between items-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800">전체 패턴 목록</h2>
                    <button id="close-all-patterns-btn" class="p-1 rounded-full hover:bg-gray-200">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6 text-gray-600">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
                <p class="text-gray-600 mb-4">학습하고 싶은 패턴을 선택하세요.</p>
            </div>
            <div id="all-patterns-list" class="mt-2 overflow-y-auto divide-y">
                <!-- 전체 패턴 목록이 여기에 동적으로 추가됩니다. -->
            </div>
        </div>
    </div>

    <script>
        const patternContainer = document.getElementById('pattern-container');
        const currentDateEl = document.getElementById('current-date');
        const newPatternBtn = document.getElementById('new-pattern-btn');

        // --- 번역기 모달 관련 요소 ---
        const openTranslatorBtn = document.getElementById('open-translator-btn');
        const translatorModal = document.getElementById('translator-modal');
        const closeTranslatorBtn = document.getElementById('close-translator-btn');
        const translateBtn = document.getElementById('translate-btn');
        const koreanInput = document.getElementById('korean-input');
        const translationResult = document.getElementById('translation-result');
        const customAlertModal = document.getElementById('custom-alert-modal');
        const customAlertMessage = document.getElementById('custom-alert-message');
        const customAlertCloseBtn = document.getElementById('custom-alert-close-btn');

        // --- 전체 패턴 모달 관련 요소 ---
        const allPatternsBtn = document.getElementById('all-patterns-btn');
        const allPatternsModal = document.getElementById('all-patterns-modal');
        const closeAllPatternsBtn = document.getElementById('close-all-patterns-btn');
        const allPatternsList = document.getElementById('all-patterns-list');

        const allPatterns = [
            // Basic Patterns (1-20)
            {"pattern":"I'm trying to...","meaning":"~하려고 노력 중이야","structure":"I'm trying to + 동사원형","examples":[{"english":"I'm trying to find a new job.","korean":"새로운 직업을 찾으려고 노력 중이야."},{"english":"I'm trying to eat healthier these days.","korean":"요즘 더 건강하게 먹으려고 노력하고 있어."}],"vocab":[{"word":"find","meaning":"찾다"},{"word":"job","meaning":"직업"},{"word":"healthier","meaning":"더 건강한"}],"practice":{"korean":"나 이 문제를 해결하려고 노력 중이야.","english":"I'm trying to solve this problem."},"practiceVocab":[{"word":"solve","meaning":"해결하다"},{"word":"problem","meaning":"문제"}]},
            {"pattern":"I can't wait to...","meaning":"빨리 ~하고 싶어","structure":"I can't wait to + 동사원형","examples":[{"english":"I can't wait to see you.","korean":"빨리 너를 보고 싶어."},{"english":"I can't wait to go on vacation.","korean":"빨리 휴가를 가고 싶어."}],"vocab":[{"word":"wait","meaning":"기다리다"},{"word":"see","meaning":"보다"},{"word":"vacation","meaning":"휴가"}],"practice":{"korean":"난 빨리 이 영화를 보고 싶어.","english":"I can't wait to watch this movie."},"practiceVocab":[{"word":"watch","meaning":"보다"},{"word":"movie","meaning":"영화"}]},
            {"pattern":"Do you mind if I...?","meaning":"제가 ~해도 괜찮을까요?","structure":"Do you mind if I + 동사?","examples":[{"english":"Do you mind if I open the window?","korean":"제가 창문을 열어도 괜찮을까요?"},{"english":"Do you mind if I join you?","korean":"제가 합석해도 괜찮을까요?"}],"vocab":[{"word":"mind","meaning":"꺼리다, 신경쓰다"},{"word":"open","meaning":"열다"},{"word":"join","meaning":"함께하다"}],"practice":{"korean":"제가 이 자리에 앉아도 괜찮을까요?","english":"Do you mind if I take this seat?"},"practiceVocab":[{"word":"take","meaning":"차지하다"},{"word":"seat","meaning":"자리"}]},
            {"pattern":"It looks like...","meaning":"~인 것 같아","structure":"It looks like + 주어 + 동사","examples":[{"english":"It looks like it's going to rain.","korean":"비가 올 것 같아."},{"english":"It looks like we're lost.","korean":"우리 길을 잃은 것 같아."}],"vocab":[{"word":"look like","meaning":"~처럼 보이다"},{"word":"rain","meaning":"비가 오다"},{"word":"lost","meaning":"길을 잃은"}],"practice":{"korean":"그가 아주 피곤한 것 같아.","english":"It looks like he is very tired."},"practiceVocab":[{"word":"tired","meaning":"피곤한"}]},
            {"pattern":"How about...?","meaning":"~하는 게 어때?","structure":"How about + 명사 / 동명사?","examples":[{"english":"How about a cup of coffee?","korean":"커피 한 잔 어때?"},{"english":"How about going to the movies tonight?","korean":"오늘 밤에 영화 보러 가는 거 어때?"}],"vocab":[{"word":"cup","meaning":"컵"},{"word":"go to the movies","meaning":"영화 보러 가다"}],"practice":{"korean":"점심으로 피자 먹는 거 어때?","english":"How about having pizza for lunch?"},"practiceVocab":[{"word":"have","meaning":"먹다"},{"word":"pizza","meaning":"피자"},{"word":"lunch","meaning":"점심"}]},
            {"pattern":"I'm good at...","meaning":"나 ~를 잘해","structure":"I'm good at + 명사 / 동명사","examples":[{"english":"I'm good at playing the piano.","korean":"나는 피아노를 잘 쳐."},{"english":"She's good at math.","korean":"그녀는 수학을 잘해."}],"vocab":[{"word":"be good at","meaning":"~를 잘하다"},{"word":"play the piano","meaning":"피아노를 치다"},{"word":"math","meaning":"수학"}],"practice":{"korean":"그는 사람들 이름을 기억하는 것을 잘해.","english":"He's good at remembering people's names."},"practiceVocab":[{"word":"remember","meaning":"기억하다"},{"word":"name","meaning":"이름"}]},
            {"pattern":"It's time to...","meaning":"~할 시간이야","structure":"It's time to + 동사원형","examples":[{"english":"It's time to go to bed.","korean":"자러 갈 시간이야."},{"english":"It's time to start the meeting.","korean":"회의를 시작할 시간입니다."}],"vocab":[{"word":"go to bed","meaning":"자러 가다"},{"word":"start","meaning":"시작하다"},{"word":"meeting","meaning":"회의"}],"practice":{"korean":"이제 집에 갈 시간이야.","english":"It's time to go home now."},"practiceVocab":[{"word":"go home","meaning":"집에 가다"},{"word":"now","meaning":"지금"}]},
            {"pattern":"I feel like...","meaning":"~하고 싶어 / ~인 것 같아","structure":"I feel like + 명사 / 동명사 / 문장","examples":[{"english":"I feel like having some ice cream.","korean":"아이스크림이 먹고 싶어."},{"english":"I feel like this is a bad idea.","korean":"이건 안 좋은 생각인 것 같아."}],"vocab":[{"word":"feel like","meaning":"~하고 싶다"},{"word":"ice cream","meaning":"아이스크림"},{"word":"bad idea","meaning":"안 좋은 생각"}],"practice":{"korean":"오늘 밤은 그냥 집에 있고 싶어.","english":"I feel like staying home tonight."},"practiceVocab":[{"word":"stay home","meaning":"집에 머무르다"},{"word":"tonight","meaning":"오늘 밤"}]},
            {"pattern":"Let me know if...","meaning":"~인지 알려줘","structure":"Let me know if + 주어 + 동사","examples":[{"english":"Let me know if you need any help.","korean":"도움이 필요하면 알려줘."},{"english":"Let me know if you can come to the party.","korean":"파티에 올 수 있는지 알려줘."}],"vocab":[{"word":"let me know","meaning":"나에게 알려줘"},{"word":"need","meaning":"필요하다"},{"word":"party","meaning":"파티"}],"practice":{"korean":"궁금한 거 있으면 알려줘.","english":"Let me know if you have any questions."},"practiceVocab":[{"word":"have a question","meaning":"질문이 있다"}]},
            {"pattern":"There's no way...","meaning":"절대 ~일 리가 없어","structure":"There's no way + 주어 + 동사","examples":[{"english":"There's no way he finished the work already.","korean":"그가 벌써 그 일을 끝냈을 리가 없어."},{"english":"There's no way she knows the secret.","korean":"그녀가 그 비밀을 알고 있을 리가 없어."}],"vocab":[{"word":"no way","meaning":"절대로 아니다"},{"word":"finish","meaning":"끝내다"},{"word":"secret","meaning":"비밀"}],"practice":{"korean":"우리가 이 게임에서 질 리가 없어.","english":"There's no way we can lose this game."},"practiceVocab":[{"word":"lose","meaning":"지다"},{"word":"game","meaning":"게임"}]},
            {"pattern":"What makes you...?","meaning":"왜 ~라고 생각해?","structure":"What makes you + 동사원형?","examples":[{"english":"What makes you say that?","korean":"왜 그렇게 말하는 거야?"},{"english":"What makes you think I'm lying?","korean":"왜 내가 거짓말한다고 생각해?"}],"vocab":[{"word":"make","meaning":"~하게 만들다"},{"word":"say","meaning":"말하다"},{"word":"lie","meaning":"거짓말하다"}],"practice":{"korean":"왜 네가 이길 거라고 생각해?","english":"What makes you think you will win?"},"practiceVocab":[{"word":"think","meaning":"생각하다"},{"word":"win","meaning":"이기다"}]},
            {"pattern":"I'm looking forward to...","meaning":"~를 기대하고 있어","structure":"I'm looking forward to + 명사 / 동명사","examples":[{"english":"I'm looking forward to the weekend.","korean":"나는 주말을 기대하고 있어."},{"english":"I'm looking forward to seeing you again.","korean":"다시 뵙기를 기대하고 있습니다."}],"vocab":[{"word":"look forward to","meaning":"~를 고대하다"},{"word":"weekend","meaning":"주말"},{"word":"again","meaning":"다시"}],"practice":{"korean":"저는 당신과 함께 일하는 것을 기대하고 있어요.","english":"I'm looking forward to working with you."},"practiceVocab":[{"word":"work with","meaning":"~와 함께 일하다"}]},
            {"pattern":"I'd rather... than...","meaning":"...하느니 차라리 ~하겠어","structure":"I'd rather + A + than + B","examples":[{"english":"I'd rather stay home than go out.","korean":"밖에 나가느니 차라리 집에 있겠어."},{"english":"I'd rather drink coffee than tea.","korean":"차를 마시느니 차라리 커피를 마시겠어."}],"vocab":[{"word":"would rather A than B","meaning":"B 하느니 차라리 A 하다"},{"word":"stay home","meaning":"집에 머무르다"},{"word":"go out","meaning":"외출하다"}],"practice":{"korean":"나는 운전하느니 차라리 걷겠어.","english":"I'd rather walk than drive."},"practiceVocab":[{"word":"walk","meaning":"걷다"},{"word":"drive","meaning":"운전하다"}]},
            {"pattern":"It takes... to...","meaning":"~하는 데 ...가 걸려","structure":"It takes + 시간/돈 + to + 동사","examples":[{"english":"It takes about an hour to get there.","korean":"거기까지 가는 데 약 1시간이 걸려."},{"english":"It takes a lot of courage to do that.","korean":"그걸 하는 데는 많은 용기가 필요해."}],"vocab":[{"word":"take","meaning":"(시간이) 걸리다"},{"word":"hour","meaning":"시간"},{"word":"courage","meaning":"용기"}],"practice":{"korean":"새로운 언어를 배우는 데는 시간이 걸려.","english":"It takes time to learn a new language."},"practiceVocab":[{"word":"learn","meaning":"배우다"},{"word":"language","meaning":"언어"}]},
            {"pattern":"The thing is...","meaning":"내 요점은..., 문제는...","structure":"The thing is, + 문장","examples":[{"english":"The thing is, we don't have enough money.","korean":"문제는, 우리가 돈이 충분하지 않다는 거야."},{"english":"The thing is, I'm not ready for it.","korean":"내 요점은, 나는 그것에 대해 준비가 안 됐다는 거야."}],"vocab":[{"word":"the thing is","meaning":"문제는, 사실은"},{"word":"enough","meaning":"충분한"},{"word":"ready","meaning":"준비된"}],"practice":{"korean":"문제는, 그가 내 말을 듣지 않는다는 거야.","english":"The thing is, he doesn't listen to me."},"practiceVocab":[{"word":"listen to","meaning":"~의 말을 듣다"}]},
            {"pattern":"I'm not sure if...","meaning":"~인지 잘 모르겠어","structure":"I'm not sure if + 주어 + 동사","examples":[{"english":"I'm not sure if this is the right way.","korean":"이 길이 맞는지 잘 모르겠어."},{"english":"I'm not sure if he'll come.","korean":"그가 올지 잘 모르겠어."}],"vocab":[{"word":"be not sure","meaning":"확실하지 않다"},{"word":"right way","meaning":"옳은 길"},{"word":"come","meaning":"오다"}],"practice":{"korean":"이 가게가 아직 문을 열었는지 잘 모르겠어.","english":"I'm not sure if the store is still open."},"practiceVocab":[{"word":"store","meaning":"가게"},{"word":"still","meaning":"아직"},{"word":"open","meaning":"열려 있는"}]},
            {"pattern":"It's up to you.","meaning":"너에게 달렸어.","structure":"It's up to + 사람","examples":[{"english":"What do you want for dinner? It's up to you.","korean":"저녁으로 뭐 먹고 싶어? 너한테 달렸어."},{"english":"Whether we go or not is up to you.","korean":"우리가 갈지 말지는 너에게 달렸어."}],"vocab":[{"word":"be up to","meaning":"~에게 달려있다"},{"word":"dinner","meaning":"저녁"},{"word":"whether","meaning":"~인지 아닌지"}],"practice":{"korean":"어디로 갈지는 당신에게 달렸어요.","english":"It's up to you where we go."},"practiceVocab":[{"word":"where","meaning":"어디에"}]},
            {"pattern":"Make sure...","meaning":"반드시 ~하도록 해","structure":"Make sure (that) + 주어 + 동사","examples":[{"english":"Make sure you lock the door.","korean":"반드시 문을 잠그도록 해."},{"english":"Make sure you finish your homework.","korean":"반드시 숙제를 끝내도록 해라."}],"vocab":[{"word":"make sure","meaning":"확실히 하다"},{"word":"lock","meaning":"잠그다"},{"word":"homework","meaning":"숙제"}],"practice":{"korean":"네가 알람을 맞췄는지 반드시 확인해.","english":"Make sure you set the alarm."},"practiceVocab":[{"word":"set the alarm","meaning":"알람을 맞추다"}]},
            {"pattern":"What if...?","meaning":"만약 ~라면 어떡하지?","structure":"What if + 주어 + 동사?","examples":[{"english":"What if we miss the train?","korean":"만약 우리가 기차를 놓치면 어떡하지?"},{"english":"What if he says no?","korean":"만약 그가 안 된다고 하면 어떡하지?"}],"vocab":[{"word":"what if","meaning":"만약 ~라면?"},{"word":"miss","meaning":"놓치다"},{"word":"say no","meaning":"거절하다"}],"practice":{"korean":"만약 비가 오면 어떡하지?","english":"What if it rains?"},"practiceVocab":[{"word":"rain","meaning":"비가 오다"}]},
            {"pattern":"I can't help...","meaning":"~하지 않을 수 없어","structure":"I can't help + 동명사","examples":[{"english":"I can't help thinking about it.","korean":"그것에 대해 생각하지 않을 수 없어."},{"english":"She couldn't help laughing.","korean":"그녀는 웃지 않을 수 없었다."}],"vocab":[{"word":"can't help","meaning":"~하지 않을 수 없다"},{"word":"think about","meaning":"~에 대해 생각하다"},{"word":"laugh","meaning":"웃다"}],"practice":{"korean":"나는 그에게 동의하지 않을 수 없어.","english":"I can't help agreeing with him."},"practiceVocab":[{"word":"agree with","meaning":"~에게 동의하다"}]},

            // Intermediate Patterns (21-40)
            {"pattern":"not only A but also B","meaning":"A뿐만 아니라 B도","structure":"not only + A + but also + B","examples":[{"english":"She is not only smart but also very kind.","korean":"그녀는 똑똑할 뿐만 아니라 매우 친절하다."},{"english":"This car is not only beautiful but also powerful.","korean":"이 차는 아름다울 뿐만 아니라 강력하다."}],"vocab":[{"word":"not only A but also B","meaning":"A뿐만 아니라 B도"},{"word":"smart","meaning":"똑똑한"},{"word":"kind","meaning":"친절한"},{"word":"powerful","meaning":"강력한"}],"practice":{"korean":"그는 배우일 뿐만 아니라 감독이기도 하다.","english":"He is not only an actor but also a director."},"practiceVocab":[{"word":"actor","meaning":"배우"},{"word":"director","meaning":"감독"}]},
            {"pattern":"It's no use ~ing","meaning":"~해도 소용없어","structure":"It's no use + 동명사","examples":[{"english":"It's no use crying over spilt milk.","korean":"엎질러진 우유 앞에서 울어봐야 소용없다."},{"english":"It's no use trying to convince him.","korean":"그를 설득하려고 해봐야 소용없어."}],"vocab":[{"word":"it's no use","meaning":"소용없다"},{"word":"cry over","meaning":"~에 대해 울다"},{"word":"convince","meaning":"설득하다"}],"practice":{"korean":"지금 후회해봐야 소용없어.","english":"It's no use regretting it now."},"practiceVocab":[{"word":"regret","meaning":"후회하다"}]},
            {"pattern":"feel free to...","meaning":"편하게 ~하세요","structure":"feel free to + 동사원형","examples":[{"english":"Feel free to ask any questions.","korean":"편하게 질문하세요."},{"english":"Please feel free to contact me anytime.","korean":"언제든지 편하게 연락 주세요."}],"vocab":[{"word":"feel free to","meaning":"마음 편히 ~하다"},{"word":"ask","meaning":"묻다"},{"word":"contact","meaning":"연락하다"}],"practice":{"korean":"여기 있는 음식을 편하게 드세요.","english":"Feel free to help yourself to the food."},"practiceVocab":[{"word":"help yourself to","meaning":"~을 마음껏 먹다"},{"word":"food","meaning":"음식"}]},
            {"pattern":"be supposed to...","meaning":"~하기로 되어 있다, ~해야 한다","structure":"be supposed to + 동사원형","examples":[{"english":"I was supposed to meet him at 3 PM.","korean":"나는 그를 오후 3시에 만나기로 되어 있었다."},{"english":"You are not supposed to park here.","korean":"여기에 주차하시면 안 됩니다."}],"vocab":[{"word":"be supposed to","meaning":"~하기로 되어 있다"},{"word":"meet","meaning":"만나다"},{"word":"park","meaning":"주차하다"}],"practice":{"korean":"이 약은 하루에 세 번 먹어야 합니다.","english":"You are supposed to take this medicine three times a day."},"practiceVocab":[{"word":"take medicine","meaning":"약을 복용하다"},{"word":"three times a day","meaning":"하루에 세 번"}]},
            {"pattern":"might as well...","meaning":"~하는 편이 낫겠다","structure":"might as well + 동사원형","examples":[{"english":"Since it's raining, we might as well stay home.","korean":"비가 오니, 그냥 집에 있는 편이 낫겠다."},{"english":"There's nothing else to do, so I might as well go to bed.","korean":"달리 할 일도 없으니, 그냥 자러 가는 편이 낫겠다."}],"vocab":[{"word":"might as well","meaning":"~하는 편이 낫다"},{"word":"since","meaning":"~이므로"},{"word":"nothing else","meaning":"다른 아무것도"}],"practice":{"korean":"기차를 놓쳤네. 다음 기차를 기다리는 편이 낫겠다.","english":"We missed the train. We might as well wait for the next one."},"practiceVocab":[{"word":"miss","meaning":"놓치다"},{"word":"wait for","meaning":"~를 기다리다"},{"word":"next","meaning":"다음의"}]},
            {"pattern":"be likely to...","meaning":"~할 것 같다, ~할 가능성이 높다","structure":"be likely to + 동사원형","examples":[{"english":"It's likely to snow tomorrow.","korean":"내일 눈이 올 것 같다."},{"english":"He is likely to win the election.","korean":"그는 선거에서 이길 가능성이 높다."}],"vocab":[{"word":"be likely to","meaning":"~할 것 같다"},{"word":"snow","meaning":"눈이 오다"},{"word":"win the election","meaning":"선거에서 이기다"}],"practice":{"korean":"티켓이 곧 매진될 것 같아요.","english":"The tickets are likely to sell out soon."},"practiceVocab":[{"word":"ticket","meaning":"표"},{"word":"sell out","meaning":"매진되다"},{"word":"soon","meaning":"곧"}]},
            {"pattern":"have something to do with...","meaning":"~와 관련이 있다","structure":"have something to do with + 명사","examples":[{"english":"His quitting has something to do with the new boss.","korean":"그의 퇴사는 새로운 상사와 관련이 있다."},{"english":"I think this problem has something to do with the software.","korean":"이 문제는 소프트웨어와 관련이 있는 것 같아요."}],"vocab":[{"word":"have something to do with","meaning":"~와 관련이 있다"},{"word":"quit","meaning":"그만두다"},{"word":"boss","meaning":"상사"}],"practice":{"korean":"그녀의 성공은 노력과 관련이 있다.","english":"Her success has something to do with hard work."},"practiceVocab":[{"word":"success","meaning":"성공"},{"word":"hard work","meaning":"노력"}]},
            {"pattern":"can't afford to...","meaning":"~할 여유가 없다","structure":"can't afford to + 동사원형","examples":[{"english":"I can't afford to buy a new car.","korean":"나는 새 차를 살 여유가 없다."},{"english":"We can't afford to waste any more time.","korean":"우리는 더 이상 시간을 낭비할 여유가 없다."}],"vocab":[{"word":"can't afford to","meaning":"~할 여유가 없다"},{"word":"buy","meaning":"사다"},{"word":"waste","meaning":"낭비하다"}],"practice":{"korean":"나는 실수를 할 여유가 없어.","english":"I can't afford to make a mistake."},"practiceVocab":[{"word":"make a mistake","meaning":"실수하다"}]},
            {"pattern":"be about to...","meaning":"막 ~하려던 참이다","structure":"be about to + 동사원형","examples":[{"english":"I was about to call you.","korean":"막 너에게 전화하려던 참이었어."},{"english":"The movie is about to start.","korean":"영화가 곧 시작하려고 해."}],"vocab":[{"word":"be about to","meaning":"막 ~하려던 참이다"},{"word":"call","meaning":"전화하다"},{"word":"start","meaning":"시작하다"}],"practice":{"korean":"나가려던 참이었어.","english":"I was about to leave."},"practiceVocab":[{"word":"leave","meaning":"떠나다, 나가다"}]},
            {"pattern":"I'm afraid...","meaning":"유감이지만 ~인 것 같아","structure":"I'm afraid (that) + 주어 + 동사","examples":[{"english":"I'm afraid I can't help you.","korean":"유감이지만 도와드릴 수 없을 것 같아요."},{"english":"I'm afraid we're going to be late.","korean":"유감이지만 우리 늦을 것 같아."}],"vocab":[{"word":"be afraid","meaning":"유감이다, 두렵다"},{"word":"help","meaning":"돕다"},{"word":"late","meaning":"늦은"}],"practice":{"korean":"유감이지만, 모든 좌석이 예약되었습니다.","english":"I'm afraid all the seats are booked."},"practiceVocab":[{"word":"seat","meaning":"좌석"},{"word":"booked","meaning":"예약된"}]},
            {"pattern":"end up ~ing","meaning":"결국 ~하게 되다","structure":"end up + 동명사 / 전치사구","examples":[{"english":"We ended up watching a movie at home.","korean":"우리는 결국 집에서 영화를 보게 되었다."},{"english":"If you don't study, you'll end up failing the test.","korean":"공부하지 않으면, 너는 결국 시험에 떨어지게 될 거야."}],"vocab":[{"word":"end up","meaning":"결국 ~하게 되다"},{"word":"watch a movie","meaning":"영화를 보다"},{"word":"fail the test","meaning":"시험에 떨어지다"}],"practice":{"korean":"우리는 길을 잃었고 결국 엉뚱한 곳에 가게 되었다.","english":"We got lost and ended up in the wrong place."},"practiceVocab":[{"word":"get lost","meaning":"길을 잃다"},{"word":"wrong place","meaning":"엉뚱한 곳"}]},
            {"pattern":"It seems to me that...","meaning":"내 생각에는 ~인 것 같아","structure":"It seems to me that + 주어 + 동사","examples":[{"english":"It seems to me that you're not happy.","korean":"내 생각에는 네가 행복하지 않은 것 같아."},{"english":"It seems to me that we need a new plan.","korean":"제 생각에는 우리에게 새로운 계획이 필요한 것 같습니다."}],"vocab":[{"word":"it seems that","meaning":"~인 것 같다"},{"word":"happy","meaning":"행복한"},{"word":"plan","meaning":"계획"}],"practice":{"korean":"내 생각에는 그가 진실을 말하고 있지 않은 것 같아.","english":"It seems to me that he is not telling the truth."},"practiceVocab":[{"word":"tell the truth","meaning":"진실을 말하다"}]},
            {"pattern":"have a hard time ~ing","meaning":"~하는 데 어려움을 겪다","structure":"have a hard time + 동명사","examples":[{"english":"I had a hard time finding a parking spot.","korean":"주차 공간을 찾는 데 어려움을 겪었어요."},{"english":"She's having a hard time adjusting to the new school.","korean":"그녀는 새 학교에 적응하는 데 어려움을 겪고 있다."}],"vocab":[{"word":"have a hard time","meaning":"어려움을 겪다"},{"word":"parking spot","meaning":"주차 공간"},{"word":"adjust to","meaning":"~에 적응하다"}],"practice":{"korean":"나는 아침에 일어나는 데 어려움을 겪는다.","english":"I have a hard time waking up in the morning."},"practiceVocab":[{"word":"wake up","meaning":"일어나다"},{"word":"in the morning","meaning":"아침에"}]},
            {"pattern":"used to...","meaning":"(과거에) ~하곤 했다","structure":"used to + 동사원형","examples":[{"english":"I used to live in this city.","korean":"나는 이 도시에 살았었다."},{"english":"We used to be close friends.","korean":"우리는 친한 친구 사이였다."}],"vocab":[{"word":"used to","meaning":"~하곤 했다"},{"word":"live","meaning":"살다"},{"word":"close friend","meaning":"친한 친구"}],"practice":{"korean":"그는 매일 아침 조깅을 하곤 했다.","english":"He used to jog every morning."},"practiceVocab":[{"word":"jog","meaning":"조깅하다"},{"word":"every morning","meaning":"매일 아침"}]},
            {"pattern":"No wonder...","meaning":"어쩐지 ~하더라","structure":"No wonder + 주어 + 동사","examples":[{"english":"He studied all night. No wonder he looks tired.","korean":"그는 밤새 공부했어. 어쩐지 피곤해 보이더라."},{"english":"You didn't eat breakfast? No wonder you're hungry.","korean":"아침 안 먹었어? 어쩐지 배고파하더라."}],"vocab":[{"word":"no wonder","meaning":"어쩐지, 당연하다"},{"word":"all night","meaning":"밤새"},{"word":"hungry","meaning":"배고픈"}],"practice":{"korean":"그녀는 전문 셰프야. 어쩐지 음식이 맛있더라.","english":"She's a professional chef. No wonder the food is so delicious."},"practiceVocab":[{"word":"professional chef","meaning":"전문 요리사"},{"word":"delicious","meaning":"맛있는"}]},
            {"pattern":"As far as I know...","meaning":"내가 알기로는...","structure":"As far as I know, + 문장","examples":[{"english":"As far as I know, the store is closed on Sundays.","korean":"내가 알기로는, 그 가게는 일요일에 문을 닫아."},{"english":"As far as I know, he is the best person for the job.","korean":"제가 알기로는, 그가 그 일에 가장 적합한 사람입니다."}],"vocab":[{"word":"as far as I know","meaning":"내가 알기로는"},{"word":"closed","meaning":"닫힌"},{"word":"best person","meaning":"가장 적합한 사람"}],"practice":{"korean":"내가 알기로는, 회의가 취소되었어.","english":"As far as I know, the meeting has been canceled."},"practiceVocab":[{"word":"meeting","meaning":"회의"},{"word":"be canceled","meaning":"취소되다"}]},
            {"pattern":"On second thought...","meaning":"다시 생각해보니...","structure":"On second thought, + 문장","examples":[{"english":"I'll have a coffee. On second thought, I'll have a tea instead.","korean":"커피 마실게요. 다시 생각해보니, 대신 차를 마실게요."},{"english":"Let's go out. On second thought, I'm too tired.","korean":"나가자. 다시 생각해보니, 나 너무 피곤해."}],"vocab":[{"word":"on second thought","meaning":"다시 생각해보니"},{"word":"instead","meaning":"대신에"},{"word":"tired","meaning":"피곤한"}],"practice":{"korean":"우리는 영화를 볼 수 있어. 다시 생각해보니, 그냥 집에서 쉬는 게 낫겠다.","english":"We can watch a movie. On second thought, let's just relax at home."},"practiceVocab":[{"word":"relax","meaning":"쉬다"},{"word":"at home","meaning":"집에서"}]},
            {"pattern":"Speaking of which...","meaning":"말이 나와서 말인데...","structure":"Speaking of which, + 문장","examples":[{"english":"I'm really hungry. Speaking of which, what's for dinner?","korean":"나 정말 배고파. 말이 나와서 말인데, 저녁 메뉴가 뭐야?"},{"english":"I saw Tom yesterday. Speaking of which, how is he doing?","korean":"어제 탐을 봤어. 말이 나와서 말인데, 그는 어떻게 지내?"}],"vocab":[{"word":"speaking of which","meaning":"말이 나와서 말인데"},{"word":"hungry","meaning":"배고픈"},{"word":"how is he doing?","meaning":"그는 어떻게 지내?"}],"practice":{"korean":"다음 주에 시험이 있어. 말이 나와서 말인데, 우리 같이 공부해야 하지 않을까?","english":"We have a test next week. Speaking of which, shouldn't we study together?"},"practiceVocab":[{"word":"test","meaning":"시험"},{"word":"study together","meaning":"함께 공부하다"}]},
            {"pattern":"You'd better...","meaning":"~하는 게 좋을 거야","structure":"You'd better + 동사원형","examples":[{"english":"You'd better hurry up, or you'll be late.","korean":"서두르는 게 좋을 거야, 안 그러면 늦을 거야."},{"english":"You'd better not tell anyone about this.","korean":"이것에 대해 아무에게도 말하지 않는 게 좋을 거야."}],"vocab":[{"word":"had better","meaning":"~하는 편이 낫다"},{"word":"hurry up","meaning":"서두르다"},{"word":"anyone","meaning":"아무나"}],"practice":{"korean":"의사에게 가보는 게 좋을 거야.","english":"You'd better see a doctor."},"practiceVocab":[{"word":"see a doctor","meaning":"진찰을 받다"}]},
            {"pattern":"There is no doubt that...","meaning":"~라는 점에는 의심의 여지가 없어","structure":"There is no doubt that + 주어 + 동사","examples":[{"english":"There is no doubt that he is the best player.","korean":"그가 최고의 선수라는 점에는 의심의 여지가 없다."},{"english":"There is no doubt that she will succeed.","korean":"그녀가 성공할 것이라는 데에는 의심의 여지가 없다."}],"vocab":[{"word":"no doubt","meaning":"의심의 여지 없이"},{"word":"player","meaning":"선수"},{"word":"succeed","meaning":"성공하다"}],"practice":{"korean":"지구가 둥글다는 것은 의심의 여지가 없다.","english":"There is no doubt that the Earth is round."},"practiceVocab":[{"word":"Earth","meaning":"지구"},{"word":"round","meaning":"둥근"}]},
            
            // Advanced Patterns (41-60)
            {"pattern":"Whether you like it or not...","meaning":"네가 좋든 싫든...","structure":"Whether you like it or not, + 문장","examples":[{"english":"Whether you like it or not, you have to do it.","korean":"네가 좋든 싫든, 너는 그걸 해야만 해."},{"english":"Whether he agrees or not, we're starting the project.","korean":"그가 동의하든 안 하든, 우리는 프로젝트를 시작할 거야."}],"vocab":[{"word":"whether A or not","meaning":"A이든 아니든"},{"word":"have to","meaning":"~해야만 한다"},{"word":"agree","meaning":"동의하다"}],"practice":{"korean":"네가 좋든 싫든, 이것이 규칙이야.","english":"Whether you like it or not, this is the rule."},"practiceVocab":[{"word":"rule","meaning":"규칙"}]},
            {"pattern":"Given that...","meaning":"~를 고려하면","structure":"Given that + 주어 + 동사, + 문장","examples":[{"english":"Given that he's new, he's doing a great job.","korean":"그가 신입인 것을 고려하면, 그는 일을 아주 잘하고 있다."},{"english":"Given that it's a holiday, the roads are surprisingly empty.","korean":"휴일인 것을 고려하면, 길이 놀라울 정도로 비어있다."}],"vocab":[{"word":"given that","meaning":"~을 고려하면"},{"word":"new","meaning":"새로운, 신입의"},{"word":"surprisingly","meaning":"놀랍게도"}],"practice":{"korean":"날씨를 고려하면, 우리는 하이킹을 취소해야 할지도 몰라.","english":"Given the weather, we might have to cancel the hike."},"practiceVocab":[{"word":"weather","meaning":"날씨"},{"word":"cancel","meaning":"취소하다"},{"word":"hike","meaning":"하이킹"}]},
            {"pattern":"In case...","meaning":"~할 경우에 대비해서","structure":"...in case + 주어 + 동사","examples":[{"english":"Take an umbrella, in case it rains.","korean":"비가 올 경우에 대비해서 우산을 챙겨가."},{"english":"I'll write it down in case I forget.","korean":"잊어버릴 경우에 대비해서 적어둘게."}],"vocab":[{"word":"in case","meaning":"~의 경우에 대비하여"},{"word":"umbrella","meaning":"우산"},{"word":"forget","meaning":"잊다"}],"practice":{"korean":"비상시에 대비해서 그의 전화번호를 가지고 있어.","english":"I have his number just in case of an emergency."},"practiceVocab":[{"word":"number","meaning":"번호"},{"word":"emergency","meaning":"비상사태"}]},
            {"pattern":"Assuming that...","meaning":"만약 ~라고 가정하면","structure":"Assuming that + 주어 + 동사, + 문장","examples":[{"english":"Assuming that you're right, what should we do next?","korean":"만약 네가 옳다고 가정하면, 우리는 다음에 무엇을 해야 할까?"},{"english":"Assuming that the flight is on time, we'll arrive at 10 PM.","korean":"만약 비행기가 정시라고 가정하면, 우리는 오후 10시에 도착할 거야."}],"vocab":[{"word":"assuming that","meaning":"~라고 가정하면"},{"word":"right","meaning":"옳은"},{"word":"on time","meaning":"정시에"}],"practice":{"korean":"모든 것이 계획대로 진행된다고 가정하면, 우리는 내일까지 끝낼 수 있다.","english":"Assuming that everything goes according to plan, we can finish by tomorrow."},"practiceVocab":[{"word":"according to plan","meaning":"계획대로"},{"word":"finish","meaning":"끝내다"}]},
            {"pattern":"It's about time...","meaning":"진작 ~했어야지","structure":"It's about time + 주어 + 과거 동사","examples":[{"english":"It's about time you got a haircut.","korean":"진작 머리를 잘랐어야지."},{"english":"It's about time they fixed this road.","korean":"진작 그들이 이 길을 고쳤어야지."}],"vocab":[{"word":"it's about time","meaning":"벌써 ~했어야 할 시간이다"},{"word":"haircut","meaning":"이발"},{"word":"fix","meaning":"고치다"}],"practice":{"korean":"진작 네 방을 청소했어야지.","english":"It's about time you cleaned your room."},"practiceVocab":[{"word":"clean","meaning":"청소하다"},{"word":"room","meaning":"방"}]},
            {"pattern":"As long as...","meaning":"~하는 한","structure":"...as long as + 주어 + 동사","examples":[{"english":"You can go out, as long as you finish your homework first.","korean":"숙제를 먼저 끝내기만 한다면, 나가도 좋아."},{"english":"I don't care what you do, as long as you're happy.","korean":"네가 행복하기만 하다면, 네가 뭘 하든 상관없어."}],"vocab":[{"word":"as long as","meaning":"~하는 한"},{"word":"first","meaning":"먼저"},{"word":"I don't care","meaning":"상관없다"}],"practice":{"korean":"네가 나와 함께 있는 한, 모든 것이 괜찮을 거야.","english":"As long as you're with me, everything will be fine."},"practiceVocab":[{"word":"with me","meaning":"나와 함께"},{"word":"fine","meaning":"괜찮은"}]},
            {"pattern":"I can't stand...","meaning":"~를 참을 수가 없어","structure":"I can't stand + 명사 / 동명사","examples":[{"english":"I can't stand the noise.","korean":"나는 그 소음을 참을 수가 없어."},{"english":"I can't stand people who are rude.","korean":"나는 무례한 사람들을 참을 수가 없어."}],"vocab":[{"word":"can't stand","meaning":"참을 수 없다"},{"word":"noise","meaning":"소음"},{"word":"rude","meaning":"무례한"}],"practice":{"korean":"나는 사람들이 공공장소에서 시끄럽게 통화하는 것을 참을 수가 없어.","english":"I can't stand people talking loudly on the phone in public."},"practiceVocab":[{"word":"talk loudly","meaning":"시끄럽게 말하다"},{"word":"in public","meaning":"공공장소에서"}]},
            {"pattern":"Now that...","meaning":"이제 ~니까","structure":"Now that + 주어 + 동사, + 문장","examples":[{"english":"Now that I have a car, I can visit you more often.","korean":"이제 차가 있으니까, 너를 더 자주 방문할 수 있어."},{"english":"Now that the exams are over, we can relax.","korean":"이제 시험이 끝났으니, 우리는 쉴 수 있다."}],"vocab":[{"word":"now that","meaning":"이제 ~이므로"},{"word":"often","meaning":"자주"},{"word":"over","meaning":"끝난"}],"practice":{"korean":"이제 봄이 왔으니, 날씨가 더 따뜻해질 거야.","english":"Now that spring is here, the weather will get warmer."},"practiceVocab":[{"word":"spring","meaning":"봄"},{"word":"weather","meaning":"날씨"},{"word":"warm","meaning":"따뜻한"}]},
            {"pattern":"It turned out that...","meaning":"알고 보니 ~였다","structure":"It turned out that + 주어 + 동사","examples":[{"english":"It turned out that he was my old friend from school.","korean":"알고 보니 그는 내 학교 시절 오랜 친구였다."},{"english":"It turned out that the rumor wasn't true.","korean":"알고 보니 그 소문은 사실이 아니었다."}],"vocab":[{"word":"turn out","meaning":"~임이 밝혀지다"},{"word":"old friend","meaning":"오랜 친구"},{"word":"rumor","meaning":"소문"}],"practice":{"korean":"알고 보니 그 영화는 내가 생각했던 것보다 훨씬 더 좋았다.","english":"It turned out that the movie was much better than I thought."},"practiceVocab":[{"word":"much better","meaning":"훨씬 더 좋은"},{"word":"thought","meaning":"생각했다"}]},
            {"pattern":"The sooner, the better.","meaning":"빠를수록 좋아.","structure":"The + 비교급, the + 비교급","examples":[{"english":"When should I start? The sooner, the better.","korean":"언제 시작해야 할까요? 빠를수록 좋아요."},{"english":"The more you practice, the better you will become.","korean":"연습을 많이 할수록, 더 잘하게 될 거야."}],"vocab":[{"word":"the sooner, the better","meaning":"빠를수록 좋다"},{"word":"practice","meaning":"연습하다"},{"word":"become","meaning":"~이 되다"}],"practice":{"korean":"더 많이 여행할수록, 더 많은 것을 배우게 된다.","english":"The more you travel, the more you learn."},"practiceVocab":[{"word":"travel","meaning":"여행하다"},{"word":"learn","meaning":"배우다"}]},
            {"pattern":"For the time being...","meaning":"당분간은...","structure":"For the time being, + 문장","examples":[{"english":"For the time being, let's just wait and see.","korean":"당분간은, 그냥 기다리면서 지켜보자."},{"english":"You can stay here for the time being.","korean":"당분간은 여기에 머물러도 돼."}],"vocab":[{"word":"for the time being","meaning":"당분간"},{"word":"wait and see","meaning":"두고 보다"},{"word":"stay","meaning":"머무르다"}],"practice":{"korean":"당분간은, 원래 계획을 고수합시다.","english":"For the time being, let's stick to the original plan."},"practiceVocab":[{"word":"stick to","meaning":"~을 고수하다"},{"word":"original","meaning":"원래의"}]},
            {"pattern":"Chances are...","meaning":"아마 ~일 것이다","structure":"Chances are (that) + 주어 + 동사","examples":[{"english":"Chances are he'll be late again.","korean":"아마 그는 또 늦을 거야."},{"english":"Chances are it will rain this afternoon.","korean":"아마 오늘 오후에 비가 올 거야."}],"vocab":[{"word":"chances are","meaning":"아마 ~일 것이다"},{"word":"late","meaning":"늦은"},{"word":"afternoon","meaning":"오후"}],"practice":{"korean":"그녀에게 물어봐. 아마 그녀는 답을 알 거야.","english":"Ask her. Chances are she knows the answer."},"practiceVocab":[{"word":"ask","meaning":"묻다"},{"word":"know","meaning":"알다"},{"word":"answer","meaning":"답"}]},
            {"pattern":"Contrary to...","meaning":"~와는 반대로","structure":"Contrary to + 명사, + 문장","examples":[{"english":"Contrary to popular belief, tomatoes are fruits.","korean":"일반적인 믿음과는 반대로, 토마토는 과일이다."},{"english":"Contrary to what he said, the project was a success.","korean":"그가 말한 것과는 반대로, 그 프로젝트는 성공이었다."}],"vocab":[{"word":"contrary to","meaning":"~와는 반대로"},{"word":"popular belief","meaning":"일반적인 통념"},{"word":"success","meaning":"성공"}],"practice":{"korean":"내 예상과는 반대로, 시험은 꽤 쉬웠다.","english":"Contrary to my expectations, the test was quite easy."},"practiceVocab":[{"word":"expectation","meaning":"예상"},{"word":"quite","meaning":"꽤"},{"word":"easy","meaning":"쉬운"}]},
            {"pattern":"Needless to say...","meaning":"말할 필요도 없이...","structure":"Needless to say, + 문장","examples":[{"english":"Needless to say, he was very happy with the result.","korean":"말할 필요도 없이, 그는 그 결과에 매우 만족했다."},{"english":"Needless to say, you should always be on time for an interview.","korean":"말할 필요도 없이, 면접에는 항상 정시에 가야 한다."}],"vocab":[{"word":"needless to say","meaning":"말할 필요도 없이"},{"word":"result","meaning":"결과"},{"word":"interview","meaning":"면접"}],"practice":{"korean":"말할 필요도 없이, 건강이 가장 중요하다.","english":"Needless to say, health is the most important thing."},"practiceVocab":[{"word":"health","meaning":"건강"},{"word":"important","meaning":"중요한"}]},
            {"pattern":"come up with...","meaning":"~을 생각해내다","structure":"come up with + 아이디어/계획","examples":[{"english":"She came up with a great idea for the party.","korean":"그녀는 파티를 위한 멋진 아이디어를 생각해냈다."},{"english":"We need to come up with a new marketing strategy.","korean":"우리는 새로운 마케팅 전략을 생각해내야 한다."}],"vocab":[{"word":"come up with","meaning":"~을 생각해내다"},{"word":"idea","meaning":"아이디어"},{"word":"strategy","meaning":"전략"}],"practice":{"korean":"그는 항상 좋은 변명을 생각해낸다.","english":"He always comes up with a good excuse."},"practiceVocab":[{"word":"always","meaning":"항상"},{"word":"excuse","meaning":"변명"}]},
            {"pattern":"To make a long story short...","meaning":"간단히 말해서...","structure":"To make a long story short, + 문장","examples":[{"english":"To make a long story short, we missed our flight.","korean":"간단히 말해서, 우리는 비행기를 놓쳤어."},{"english":"To make a long story short, he got the job.","korean":"간단히 말해서, 그는 그 직업을 구했어."}],"vocab":[{"word":"to make a long story short","meaning":"간단히 말해서"},{"word":"miss the flight","meaning":"비행기를 놓치다"},{"word":"get the job","meaning":"직업을 구하다"}],"practice":{"korean":"간단히 말해서, 모든 것이 엉망이 되었다.","english":"To make a long story short, everything went wrong."},"practiceVocab":[{"word":"everything","meaning":"모든 것"},{"word":"go wrong","meaning":"잘못되다"}]},
            {"pattern":"What's the point of ~ing?","meaning":"~하는 게 무슨 의미가 있어?","structure":"What's the point of + 동명사?","examples":[{"english":"What's the point of arguing about it?","korean":"그것에 대해 논쟁하는 게 무슨 의미가 있어?"},{"english":"What's the point of buying such an expensive car?","korean":"그렇게 비싼 차를 사는 게 무슨 의미가 있어?"}],"vocab":[{"word":"what's the point","meaning":"요점이 무엇인가"},{"word":"argue","meaning":"논쟁하다"},{"word":"expensive","meaning":"비싼"}],"practice":{"korean":"이미 늦었는데 서두르는 게 무슨 의미가 있어?","english":"What's the point of rushing if we're already late?"},"practiceVocab":[{"word":"rush","meaning":"서두르다"},{"word":"already","meaning":"이미"}]},
            {"pattern":"I'm under the impression that...","meaning":"나는 ~라고 생각하고 있어","structure":"I'm under the impression that + 주어 + 동사","examples":[{"english":"I was under the impression that the meeting was tomorrow.","korean":"저는 회의가 내일이라고 생각하고 있었어요."},{"english":"I'm under the impression that you're not interested.","korean":"저는 당신이 관심이 없다고 생각하고 있어요."}],"vocab":[{"word":"be under the impression","meaning":"~라는 인상을 받다"},{"word":"tomorrow","meaning":"내일"},{"word":"interested","meaning":"관심 있는"}],"practice":{"korean":"저는 그들이 이미 떠났다고 생각하고 있었어요.","english":"I was under the impression that they had already left."},"practiceVocab":[{"word":"already","meaning":"이미"},{"word":"leave","meaning":"떠나다"}]},
            {"pattern":"It goes without saying that...","meaning":"~는 말할 것도 없어","structure":"It goes without saying that + 주어 + 동사","examples":[{"english":"It goes without saying that honesty is the best policy.","korean":"정직이 최상의 방책이라는 것은 말할 것도 없다."},{"english":"It goes without saying that you need to work hard to succeed.","korean":"성공하기 위해 열심히 일해야 한다는 것은 말할 것도 없다."}],"vocab":[{"word":"it goes without saying","meaning":"~은 말할 나위도 없다"},{"word":"honesty","meaning":"정직"},{"word":"policy","meaning":"정책"}],"practice":{"korean":"그가 그 상을 받을 자격이 있다는 것은 말할 것도 없다.","english":"It goes without saying that he deserves the award."},"practiceVocab":[{"word":"deserve","meaning":"~받을 자격이 있다"},{"word":"award","meaning":"상"}]},
            {"pattern":"I owe you one.","meaning":"너에게 신세 졌어.","structure":"I owe you one.","examples":[{"english":"Thanks for your help. I owe you one.","korean":"도와줘서 고마워. 너에게 신세 졌어."},{"english":"You really saved me. I owe you one.","korean":"정말 구해줬어. 신세 졌네."}],"vocab":[{"word":"owe","meaning":"빚지다"},{"word":"one","meaning":"(비격식) 신세, 은혜"},{"word":"save","meaning":"구하다"}],"practice":{"korean":"공항까지 태워다 줘서 고마워. 내가 신세 졌어.","english":"Thanks for the ride to the airport. I owe you one."},"practiceVocab":[{"word":"ride","meaning":"태워주기"},{"word":"airport","meaning":"공항"}]},
            
            // Situational & Idiomatic Patterns (61-80)
            {"pattern":"Could you do me a favor?","meaning":"부탁 하나만 들어줄 수 있나요?","structure":"Could you do me a favor?","examples":[{"english":"Could you do me a favor and watch my bag for a minute?","korean":"부탁 하나만 들어줄래요, 제 가방 좀 잠시만 봐주세요."},{"english":"Excuse me, could you do me a favor? I need some directions.","korean":"실례합니다, 부탁 하나만 들어주실 수 있나요? 길을 좀 물어봐야 해서요."}],"vocab":[{"word":"do someone a favor","meaning":"~의 부탁을 들어주다"},{"word":"bag","meaning":"가방"},{"word":"directions","meaning":"길 안내"}],"practice":{"korean":"부탁 하나만 들어줄래요? 이 상자 옮기는 것 좀 도와주세요.","english":"Could you do me a favor? I need help carrying this box."},"practiceVocab":[{"word":"help","meaning":"돕다"},{"word":"carry","meaning":"나르다"},{"word":"box","meaning":"상자"}]},
            {"pattern":"I couldn't agree more.","meaning":"전적으로 동감이야.","structure":"I couldn't agree more.","examples":[{"english":"This is the best pizza I've ever had. - I couldn't agree more.","korean":"이건 내가 먹어본 피자 중에 최고야. - 전적으로 동감이야."},{"english":"We need to finish this today. - I couldn't agree more.","korean":"우리는 오늘 이걸 끝내야 해. - 전적으로 동감이야."}],"vocab":[{"word":"couldn't agree more","meaning":"전적으로 동의하다"},{"word":"pizza","meaning":"피자"},{"word":"finish","meaning":"끝내다"}],"practice":{"korean":"그의 연설은 정말 감동적이었어. - 전적으로 동감이야.","english":"His speech was really inspiring. - I couldn't agree more."},"practiceVocab":[{"word":"speech","meaning":"연설"},{"word":"inspiring","meaning":"감동적인"}]},
            {"pattern":"You can say that again.","meaning":"네 말이 맞아. (동의)","structure":"You can say that again.","examples":[{"english":"It's so hot today! - You can say that again.","korean":"오늘 정말 덥다! - 네 말이 맞아."},{"english":"This homework is really difficult. - You can say that again.","korean":"이 숙제 정말 어려워. - 네 말이 맞아."}],"vocab":[{"word":"You can say that again","meaning":"동감이야"},{"word":"hot","meaning":"더운"},{"word":"difficult","meaning":"어려운"}],"practice":{"korean":"그 영화는 정말 지루했어. - 네 말이 맞아.","english":"That movie was so boring. - You can say that again."},"practiceVocab":[{"word":"boring","meaning":"지루한"}]},
            {"pattern":"That makes sense.","meaning":"말이 되네, 일리가 있네.","structure":"That makes sense.","examples":[{"english":"Oh, the road is closed for construction. That makes sense.","korean":"아, 도로가 공사 때문에 폐쇄됐구나. 말이 되네."},{"english":"He's tired because he worked all night. That makes sense.","korean":"그는 밤새 일해서 피곤한 거야. 일리가 있네."}],"vocab":[{"word":"make sense","meaning":"말이 되다, 이치에 맞다"},{"word":"construction","meaning":"공사"},{"word":"all night","meaning":"밤새"}],"practice":{"korean":"그녀가 늦은 이유는 교통체증 때문이었어. - 아, 그거 말이 되네.","english":"She was late because of the traffic jam. - Oh, that makes sense."},"practiceVocab":[{"word":"traffic jam","meaning":"교통체증"}]},
            {"pattern":"Take your time.","meaning":"천천히 하세요.","structure":"Take your time.","examples":[{"english":"There's no rush. Take your time.","korean":"서두를 필요 없어요. 천천히 하세요."},{"english":"Take your time and think about it carefully.","korean":"시간을 갖고 그것에 대해 신중하게 생각해보세요."}],"vocab":[{"word":"take one's time","meaning":"시간을 갖다, 서두르지 않다"},{"word":"rush","meaning":"서두름"},{"word":"carefully","meaning":"신중하게"}],"practice":{"korean":"결정하기 전에 천천히 하세요.","english":"Take your time before you make a decision."},"practiceVocab":[{"word":"make a decision","meaning":"결정하다"}]},
            {"pattern":"Long time no see.","meaning":"오랜만이야.","structure":"Long time no see.","examples":[{"english":"Hey, John! Long time no see. How have you been?","korean":"이봐, 존! 오랜만이야. 어떻게 지냈어?"},{"english":"Wow, long time no see! You haven't changed a bit.","korean":"와, 진짜 오랜만이다! 너 하나도 안 변했네."}],"vocab":[{"word":"long time no see","meaning":"오랜만이다"},{"word":"how have you been","meaning":"어떻게 지냈어"},{"word":"change a bit","meaning":"조금 변하다"}],"practice":{"korean":"오랜만이야! 우리 언제 한번 만나야지.","english":"Long time no see! We should catch up sometime."},"practiceVocab":[{"word":"catch up","meaning":"(만나서) 회포를 풀다"},{"word":"sometime","meaning":"언젠가"}]},
            {"pattern":"It's my treat.","meaning":"내가 살게.","structure":"It's my treat. / This is my treat.","examples":[{"english":"Don't worry about the bill. It's my treat.","korean":"계산서는 걱정하지 마. 내가 살게."},{"english":"Let's go for lunch. It's my treat.","korean":"점심 먹으러 가자. 내가 살게."}],"vocab":[{"word":"treat","meaning":"한턱, 대접"},{"word":"bill","meaning":"계산서"},{"word":"lunch","meaning":"점심"}],"practice":{"korean":"오늘 커피는 제가 살게요.","english":"The coffee is my treat today."},"practiceVocab":[{"word":"coffee","meaning":"커피"}]},
            {"pattern":"Don't take it personally.","meaning":"개인적으로 받아들이지 마.","structure":"Don't take it personally.","examples":[{"english":"I'm just giving you some feedback. Don't take it personally.","korean":"그냥 피드백을 주는 것뿐이야. 개인적으로 받아들이지 마."},{"english":"He's just in a bad mood. Don't take it personally.","korean":"그는 그냥 기분이 안 좋은 거야. 개인적으로 받아들이지 마."}],"vocab":[{"word":"take it personally","meaning":"개인적으로 받아들이다"},{"word":"feedback","meaning":"피드백"},{"word":"bad mood","meaning":"기분이 안 좋은 상태"}],"practice":{"korean":"이건 그냥 비즈니스일 뿐이야. 개인적으로 받아들이지 마.","english":"This is just business. Don't take it personally."},"practiceVocab":[{"word":"business","meaning":"사업, 일"}]},
            {"pattern":"I'm on my way.","meaning":"가고 있는 중이야.","structure":"I'm on my way.","examples":[{"english":"Where are you? - I'm on my way. I'll be there in 5 minutes.","korean":"너 어디야? - 가고 있는 중이야. 5분 안에 도착할 거야."},{"english":"Just stay there. I'm on my way.","korean":"거기 그냥 있어. 내가 가고 있어."}],"vocab":[{"word":"on one's way","meaning":"~로 가는 중인"},{"word":"be there","meaning":"거기에 도착하다"},{"word":"stay","meaning":"머무르다"}],"practice":{"korean":"걱정 마, 지금 사무실로 가고 있는 중이야.","english":"Don't worry, I'm on my way to the office now."},"practiceVocab":[{"word":"office","meaning":"사무실"}]},
            {"pattern":"So far, so good.","meaning":"지금까지는 좋아.","structure":"So far, so good.","examples":[{"english":"How's the new project going? - So far, so good.","korean":"새 프로젝트는 어떻게 되어가? - 지금까지는 좋아."},{"english":"We've driven 100 miles. So far, so good.","korean":"우리 100마일 운전했어. 지금까지는 괜찮아."}],"vocab":[{"word":"so far, so good","meaning":"지금까지는 좋다"},{"word":"project","meaning":"프로젝트"},{"word":"drive","meaning":"운전하다"}],"practice":{"korean":"네 첫 주는 어땠어? - 지금까지는 아주 좋아.","english":"How was your first week? - So far, so good."},"practiceVocab":[{"word":"first week","meaning":"첫 주"}]},
            {"pattern":"Break a leg!","meaning":"행운을 빌어! (공연 등)","structure":"Break a leg!","examples":[{"english":"You have a presentation today, right? Break a leg!","korean":"오늘 발표 있지, 맞지? 행운을 빌어!"},{"english":"This is your first concert. Break a leg!","korean":"이게 너의 첫 콘서트구나. 행운을 빌어!"}],"vocab":[{"word":"break a leg","meaning":"행운을 빌다 (특히 공연 전에)"},{"word":"presentation","meaning":"발표"},{"word":"concert","meaning":"콘서트"}],"practice":{"korean":"면접 잘 봐! 행운을 빌어!","english":"Good luck with your interview! Break a leg!"},"practiceVocab":[{"word":"good luck","meaning":"행운을 빌다"},{"word":"interview","meaning":"면접"}]},
            {"pattern":"My bad.","meaning":"내 실수야.","structure":"My bad.","examples":[{"english":"Oops, I spilled some coffee. My bad.","korean":"이런, 커피를 좀 쏟았네. 내 실수야."},{"english":"I forgot to call you. My bad.","korean":"너한테 전화하는 걸 잊었어. 내 실수야."}],"vocab":[{"word":"my bad","meaning":"내 실수, 내 탓"},{"word":"spill","meaning":"쏟다"},{"word":"forget","meaning":"잊다"}],"practice":{"korean":"제가 잘못된 정보를 드렸네요. 제 실수입니다.","english":"I gave you the wrong information. My bad."},"practiceVocab":[{"word":"wrong information","meaning":"잘못된 정보"}]},
            {"pattern":"I'll keep that in mind.","meaning":"명심할게.","structure":"I'll keep that in mind.","examples":[{"english":"You should double-check your work. - Okay, I'll keep that in mind.","korean":"작업한 것을 재확인해야 해. - 알았어, 명심할게."},{"english":"Thanks for the advice. I'll keep that in mind.","korean":"조언 고마워. 명심할게."}],"vocab":[{"word":"keep in mind","meaning":"명심하다"},{"word":"double-check","meaning":"재확인하다"},{"word":"advice","meaning":"조언"}],"practice":{"korean":"그것은 아주 유용한 팁이네요. 명심하겠습니다.","english":"That's a very useful tip. I'll keep that in mind."},"practiceVocab":[{"word":"useful tip","meaning":"유용한 팁"}]},
            {"pattern":"I have no idea.","meaning":"전혀 모르겠어.","structure":"I have no idea.","examples":[{"english":"What time does the movie start? - I have no idea.","korean":"영화가 몇 시에 시작해? - 전혀 모르겠어."},{"english":"Why is he so upset? - I have no idea.","korean":"그가 왜 그렇게 화가 났지? - 전혀 모르겠어."}],"vocab":[{"word":"have no idea","meaning":"전혀 모르다"},{"word":"start","meaning":"시작하다"},{"word":"upset","meaning":"화난, 속상한"}],"practice":{"korean":"이 문제를 어떻게 풀어야 할지 전혀 모르겠어.","english":"I have no idea how to solve this problem."},"practiceVocab":[{"word":"how to","meaning":"~하는 방법"},{"word":"solve","meaning":"풀다"}]},
            {"pattern":"Get well soon.","meaning":"얼른 나아.","structure":"Get well soon.","examples":[{"english":"I heard you have a cold. Get well soon.","korean":"감기 걸렸다고 들었어. 얼른 나아."},{"english":"We miss you at the office. Get well soon!","korean":"사무실에서 네가 그리워. 얼른 나아!"}],"vocab":[{"word":"get well soon","meaning":"쾌유를 빌다"},{"word":"have a cold","meaning":"감기에 걸리다"},{"word":"miss","meaning":"그리워하다"}],"practice":{"korean":"수술이 잘 되길 바라. 얼른 나아.","english":"I hope your surgery goes well. Get well soon."},"practiceVocab":[{"word":"surgery","meaning":"수술"},{"word":"go well","meaning":"잘 되다"}]},
            {"pattern":"Keep up the good work.","meaning":"계속 수고해 줘.","structure":"Keep up the good work.","examples":[{"english":"Your presentation was excellent. Keep up the good work.","korean":"발표가 훌륭했어요. 계속 수고해 주세요."},{"english":"You're doing great. Keep up the good work.","korean":"아주 잘하고 있어. 계속 열심히 해."}],"vocab":[{"word":"keep up the good work","meaning":"계속 잘하다"},{"word":"excellent","meaning":"훌륭한"},{"word":"great","meaning":"잘하는, 훌륭한"}],"practice":{"korean":"네 성적이 많이 올랐어. 계속 열심히 해!","english":"Your grades have improved a lot. Keep up the good work."},"practiceVocab":[{"word":"grade","meaning":"성적"},{"word":"improve","meaning":"향상되다"}]},
            {"pattern":"It's not a big deal.","meaning":"별일 아니야.","structure":"It's not a big deal.","examples":[{"english":"I'm sorry I'm late. - It's not a big deal.","korean":"늦어서 미안해. - 별일 아니야."},{"english":"Don't worry about the broken cup. It's not a big deal.","korean":"깨진 컵에 대해 걱정하지 마. 별일 아니야."}],"vocab":[{"word":"not a big deal","meaning":"별일 아님"},{"word":"late","meaning":"늦은"},{"word":"broken","meaning":"깨진"}],"practice":{"korean":"제가 실수했어요. - 괜찮아요, 별일 아니에요.","english":"I made a mistake. - It's okay, it's not a big deal."},"practiceVocab":[{"word":"make a mistake","meaning":"실수하다"}]},
            {"pattern":"Let's call it a day.","meaning":"오늘은 이만 끝내자.","structure":"Let's call it a day.","examples":[{"english":"We've been working for 8 hours. Let's call it a day.","korean":"우리 8시간 동안 일했어. 오늘은 이만 끝내자."},{"english":"I'm too tired to continue. Let's call it a day.","korean":"나 너무 피곤해서 계속 못 하겠어. 오늘은 이만 끝내자."}],"vocab":[{"word":"call it a day","meaning":"(일을) 끝내다"},{"word":"work","meaning":"일하다"},{"word":"continue","meaning":"계속하다"}],"practice":{"korean":"우리는 많은 것을 이뤘어. 오늘은 이만 끝내자.","english":"We've accomplished a lot. Let's call it a day."},"practiceVocab":[{"word":"accomplish","meaning":"성취하다"},{"word":"a lot","meaning":"많이"}]},
            {"pattern":"I'm starving.","meaning":"배고파 죽겠어.","structure":"I'm starving.","examples":[{"english":"I haven't eaten all day. I'm starving.","korean":"하루 종일 아무것도 못 먹었어. 배고파 죽겠어."},{"english":"When is dinner? I'm starving.","korean":"저녁은 언제야? 배고파 죽겠어."}],"vocab":[{"word":"starving","meaning":"굶주리는"},{"word":"all day","meaning":"하루 종일"},{"word":"dinner","meaning":"저녁"}],"practice":{"korean":"점심 먹으러 가자. 나 배고파 죽겠어.","english":"Let's go get some lunch. I'm starving."},"practiceVocab":[{"word":"get some lunch","meaning":"점심을 먹다"}]},
            {"pattern":"It slipped my mind.","meaning":"깜빡 잊었어.","structure":"It slipped my mind.","examples":[{"english":"Oh no, I was supposed to call her. It totally slipped my mind.","korean":"이런, 그녀에게 전화했어야 했는데. 완전히 깜빡 잊었어."},{"english":"I'm sorry I forgot your birthday. It slipped my mind.","korean":"네 생일을 잊어서 미안해. 깜빡했어."}],"vocab":[{"word":"slip one's mind","meaning":"깜빡 잊다"},{"word":"totally","meaning":"완전히"},{"word":"birthday","meaning":"생일"}],"practice":{"korean":"회의에 대해 말씀드리는 것을 깜빡 잊었어요.","english":"It slipped my mind to tell you about the meeting."},"practiceVocab":[{"word":"tell","meaning":"말하다"},{"word":"meeting","meaning":"회의"}]},
            
            // Business & Formal Patterns (81-100)
            {"pattern":"Could you please...?","meaning":"~해주실 수 있나요? (정중)","structure":"Could you please + 동사원형?","examples":[{"english":"Could you please send me the report?","korean":"그 보고서를 제게 보내주실 수 있나요?"},{"english":"Could you please speak a little slower?","korean":"조금만 더 천천히 말씀해주실 수 있나요?"}],"vocab":[{"word":"please","meaning":"부디 (정중한 표현)"},{"word":"send","meaning":"보내다"},{"word":"report","meaning":"보고서"},{"word":"slower","meaning":"더 느리게"}],"practice":{"korean":"이 양식을 작성해주실 수 있나요?","english":"Could you please fill out this form?"},"practiceVocab":[{"word":"fill out","meaning":"작성하다"},{"word":"form","meaning":"양식"}]},
            {"pattern":"I was wondering if...","meaning":"~인지 궁금합니다 (조심스럽게)","structure":"I was wondering if + 주어 + could + 동사","examples":[{"english":"I was wondering if you could help me with this.","korean":"혹시 이것 좀 도와주실 수 있는지 궁금합니다."},{"english":"I was wondering if you had a moment to talk.","korean":"혹시 잠시 이야기할 시간이 있으신지 궁금합니다."}],"vocab":[{"word":"wonder","meaning":"궁금하다"},{"word":"moment","meaning":"잠깐, 순간"},{"word":"talk","meaning":"이야기하다"}],"practice":{"korean":"혹시 내일 회의에 참석하실 수 있는지 궁금합니다.","english":"I was wondering if you could attend the meeting tomorrow."},"practiceVocab":[{"word":"attend","meaning":"참석하다"},{"word":"meeting","meaning":"회의"}]},
            {"pattern":"To be honest...","meaning":"솔직히 말해서...","structure":"To be honest, + 문장","examples":[{"english":"To be honest, I'm not a big fan of his work.","korean":"솔직히 말해서, 저는 그의 작업을 별로 좋아하지 않아요."},{"english":"To be honest, I think we need a different approach.","korean":"솔직히 말해서, 제 생각엔 다른 접근 방식이 필요한 것 같아요."}],"vocab":[{"word":"to be honest","meaning":"솔직히 말해서"},{"word":"a big fan of","meaning":"~의 열렬한 팬"},{"word":"approach","meaning":"접근 방식"}],"practice":{"korean":"솔직히 말해서, 저는 그 결과에 약간 실망했어요.","english":"To be honest, I was a little disappointed with the result."},"practiceVocab":[{"word":"disappointed","meaning":"실망한"},{"word":"result","meaning":"결과"}]},
            {"pattern":"Let me double-check.","meaning":"제가 다시 확인해 볼게요.","structure":"Let me double-check.","examples":[{"english":"Is the meeting at 2 PM? Let me double-check.","korean":"회의가 오후 2시 맞나요? 제가 다시 확인해 볼게요."},{"english":"I think I have your number, but let me double-check.","korean":"당신 번호를 갖고 있는 것 같은데, 다시 확인해 볼게요."}],"vocab":[{"word":"double-check","meaning":"재확인하다"},{"word":"number","meaning":"번호"}],"practice":{"korean":"그 정보가 정확한지 다시 확인해 볼게요.","english":"Let me double-check if that information is correct."},"practiceVocab":[{"word":"information","meaning":"정보"},{"word":"correct","meaning":"정확한"}]},
            {"pattern":"Correct me if I'm wrong, but...","meaning":"제가 틀렸다면 바로잡아주세요, 하지만...","structure":"Correct me if I'm wrong, but + 문장","examples":[{"english":"Correct me if I'm wrong, but didn't you say you would finish it by today?","korean":"제가 틀렸다면 바로잡아주세요, 하지만 오늘까지 끝내겠다고 하지 않으셨나요?"},{"english":"Correct me if I'm wrong, but I think we've met before.","korean":"제가 틀렸다면 바로잡아주세요, 하지만 제 생각에 우리는 전에 만난 적이 있는 것 같아요."}],"vocab":[{"word":"correct","meaning":"바로잡다"},{"word":"wrong","meaning":"틀린"},{"word":"before","meaning":"전에"}],"practice":{"korean":"제가 틀렸다면 바로잡아주세요, 하지만 마감일이 내일 아닌가요?","english":"Correct me if I'm wrong, but isn't the deadline tomorrow?"},"practiceVocab":[{"word":"deadline","meaning":"마감일"},{"word":"tomorrow","meaning":"내일"}]},
            {"pattern":"Generally speaking...","meaning":"일반적으로 말해서...","structure":"Generally speaking, + 문장","examples":[{"english":"Generally speaking, the summers here are very hot and humid.","korean":"일반적으로 말해서, 이곳의 여름은 매우 덥고 습합니다."},{"english":"Generally speaking, people prefer to work in a comfortable environment.","korean":"일반적으로 말해서, 사람들은 편안한 환경에서 일하는 것을 선호합니다."}],"vocab":[{"word":"generally speaking","meaning":"일반적으로 말해서"},{"word":"humid","meaning":"습한"},{"word":"environment","meaning":"환경"}],"practice":{"korean":"일반적으로 말해서, 이 절차는 약 일주일이 걸립니다.","english":"Generally speaking, this process takes about a week."},"practiceVocab":[{"word":"process","meaning":"절차, 과정"},{"word":"take","meaning":"(시간이) 걸리다"},{"word":"week","meaning":"주"}]},
            {"pattern":"I'm afraid I don't follow.","meaning":"죄송하지만, 이해가 안 됩니다.","structure":"I'm afraid I don't follow.","examples":[{"english":"Could you explain that again? I'm afraid I don't follow.","korean":"다시 한번 설명해주시겠어요? 죄송하지만, 이해가 안 됩니다."},{"english":"You lost me. I'm afraid I don't follow.","korean":"놓쳤어요. 죄송하지만, 이해가 안 됩니다."}],"vocab":[{"word":"follow","meaning":"따라가다, 이해하다"},{"word":"explain","meaning":"설명하다"},{"word":"You lost me","meaning":"(대화) 이해가 안 된다"}],"practice":{"korean":"죄송하지만, 당신의 요점을 이해하지 못했습니다.","english":"I'm sorry, I'm afraid I don't follow your point."},"practiceVocab":[{"word":"point","meaning":"요점"}]},
            {"pattern":"Let's get down to business.","meaning":"본론으로 들어갑시다.","structure":"Let's get down to business.","examples":[{"english":"Okay everyone, we don't have much time. Let's get down to business.","korean":"자, 여러분, 시간이 많지 않습니다. 본론으로 들어갑시다."},{"english":"Now that everyone is here, let's get down to business.","korean":"이제 모두 오셨으니, 본론으로 들어가죠."}],"vocab":[{"word":"get down to business","meaning":"본론으로 들어가다"},{"word":"much time","meaning":"많은 시간"},{"word":"everyone","meaning":"모두"}],"practice":{"korean":"잡담은 그만하고 본론으로 들어갑시다.","english":"Let's stop the small talk and get down to business."},"practiceVocab":[{"word":"small talk","meaning":"잡담"}]},
            {"pattern":"I'll see what I can do.","meaning":"제가 뭘 할 수 있는지 알아볼게요.","structure":"I'll see what I can do.","examples":[{"english":"Can you finish this by 5 PM? - I'll see what I can do.","korean":"이거 오후 5시까지 끝낼 수 있어요? - 제가 뭘 할 수 있는지 알아볼게요."},{"english":"I need the report sooner. - I'll see what I can do.","korean":"보고서가 더 빨리 필요해요. - 제가 뭘 할 수 있는지 알아볼게요."}],"vocab":[{"word":"see what I can do","meaning":"내가 뭘 할 수 있는지 알아보다"},{"word":"finish","meaning":"끝내다"},{"word":"sooner","meaning":"더 빨리"}],"practice":{"korean":"그것은 어려운 요청이지만, 제가 뭘 할 수 있는지 알아볼게요.","english":"That's a difficult request, but I'll see what I can do."},"practiceVocab":[{"word":"difficult request","meaning":"어려운 요청"}]},
            {"pattern":"Just to clarify...","meaning":"명확히 하자면...","structure":"Just to clarify, + 질문","examples":[{"english":"Just to clarify, you need this by Friday, correct?","korean":"명확히 하자면, 이게 금요일까지 필요하신 거 맞죠?"},{"english":"Just to clarify, are we meeting at the cafe or the office?","korean":"명확히 하자면, 우리 카페에서 만나는 건가요, 아니면 사무실에서 만나는 건가요?"}],"vocab":[{"word":"clarify","meaning":"명확히 하다"},{"word":"correct","meaning":"맞는"},{"word":"cafe","meaning":"카페"}],"practice":{"korean":"명확히 하자면, 당신은 프로젝트에 동의하지 않는다는 건가요?","english":"Just to clarify, are you saying you don't agree with the project?"},"practiceVocab":[{"word":"say","meaning":"말하다"},{"word":"agree with","meaning":"~에 동의하다"}]},
            {"pattern":"What do you do for a living?","meaning":"직업이 무엇인가요?","structure":"What do you do for a living?","examples":[{"english":"So, what do you do for a living? - I'm a software engineer.","korean":"그래서, 직업이 무엇인가요? - 저는 소프트웨어 엔지니어입니다."},{"english":"It was nice meeting you. By the way, what do you do for a living?","korean":"만나서 반가웠어요. 그런데, 직업이 어떻게 되세요?"}],"vocab":[{"word":"for a living","meaning":"생계 수단으로"},{"word":"software engineer","meaning":"소프트웨어 엔지니어"},{"word":"by the way","meaning":"그런데"}],"practice":{"korean":"저는 프리랜서 작가입니다. 당신은 직업이 무엇인가요?","english":"I'm a freelance writer. What do you do for a living?"},"practiceVocab":[{"word":"freelance writer","meaning":"프리랜서 작가"}]},
            {"pattern":"I'm in charge of...","meaning":"저는 ~를 담당하고 있습니다.","structure":"I'm in charge of + 명사 / 동명사","examples":[{"english":"I'm in charge of the marketing department.","korean":"저는 마케팅 부서를 담당하고 있습니다."},{"english":"She's in charge of organizing the event.","korean":"그녀는 행사 구성을 담당하고 있습니다."}],"vocab":[{"word":"be in charge of","meaning":"~을 담당하다"},{"word":"marketing department","meaning":"마케팅 부서"},{"word":"organize","meaning":"구성하다, 조직하다"}],"practice":{"korean":"이 프로젝트의 관리는 누가 담당하고 있나요?","english":"Who is in charge of managing this project?"},"practiceVocab":[{"word":"manage","meaning":"관리하다"},{"word":"project","meaning":"프로젝트"}]},
            {"pattern":"Let's wrap this up.","meaning":"이만 마무리합시다.","structure":"Let's wrap this up.","examples":[{"english":"We're running out of time. Let's wrap this up.","korean":"시간이 다 되어가네요. 이만 마무리합시다."},{"english":"Okay, I think we've covered everything. Let's wrap this up.","korean":"좋아요, 모든 것을 다룬 것 같네요. 이만 마무리합시다."}],"vocab":[{"word":"wrap up","meaning":"마무리 짓다"},{"word":"run out of","meaning":"~을 다 써버리다"},{"word":"cover","meaning":"다루다"}],"practice":{"korean":"마지막 질문 있나요? 없으면 마무리하겠습니다.","english":"Any final questions? If not, let's wrap this up."},"practiceVocab":[{"word":"final","meaning":"마지막의"}]},
            {"pattern":"I'll get back to you on that.","meaning":"그 건에 대해서는 제가 다시 연락드리겠습니다.","structure":"I'll get back to you on that.","examples":[{"english":"I don't have the answer right now. I'll get back to you on that.","korean":"지금 당장은 답이 없네요. 그 건에 대해서는 제가 다시 연락드리겠습니다."},{"english":"That's a good question. Let me check and I'll get back to you on that.","korean":"좋은 질문이네요. 제가 확인해보고 다시 연락드리겠습니다."}],"vocab":[{"word":"get back to someone","meaning":"~에게 다시 연락하다"},{"word":"answer","meaning":"답"},{"word":"check","meaning":"확인하다"}],"practice":{"korean":"제가 제 상사와 먼저 상의해봐야 합니다. 제가 다시 연락드리겠습니다.","english":"I need to discuss it with my boss first. I'll get back to you on that."},"practiceVocab":[{"word":"discuss","meaning":"상의하다"},{"word":"boss","meaning":"상사"}]},
            {"pattern":"Thank you for your cooperation.","meaning":"협조해 주셔서 감사합니다.","structure":"Thank you for your cooperation.","examples":[{"english":"Please fill out this survey. Thank you for your cooperation.","korean":"이 설문조사를 작성해주세요. 협조해 주셔서 감사합니다."},{"english":"The event was a success. Thank you all for your cooperation.","korean":"행사는 성공적이었습니다. 여러분 모두 협조해 주셔서 감사합니다."}],"vocab":[{"word":"cooperation","meaning":"협조, 협력"},{"word":"survey","meaning":"설문조사"},{"word":"success","meaning":"성공"}],"practice":{"korean":"이 문제에 대한 당신의 협조에 감사드립니다.","english":"I appreciate your cooperation on this matter."},"practiceVocab":[{"word":"appreciate","meaning":"감사하다"},{"word":"matter","meaning":"문제, 사안"}]},
            {"pattern":"Please bear with me.","meaning":"잠시만 기다려(참아) 주세요.","structure":"Please bear with me.","examples":[{"english":"I'm having some technical difficulties. Please bear with me.","korean":"기술적인 문제가 좀 있습니다. 잠시만 기다려 주세요."},{"english":"This might take a while. Please bear with me.","korean":"이게 시간이 좀 걸릴 수 있습니다. 잠시만 참고 기다려 주세요."}],"vocab":[{"word":"bear with someone","meaning":"~를 참고 기다려주다"},{"word":"technical difficulties","meaning":"기술적 문제"},{"word":"take a while","meaning":"시간이 좀 걸리다"}],"practice":{"korean":"제가 파일을 찾는 동안 잠시만 기다려 주세요.","english":"Please bear with me while I find the file."},"practiceVocab":[{"word":"while","meaning":"~하는 동안"},{"word":"find","meaning":"찾다"},{"word":"file","meaning":"파일"}]},
            {"pattern":"Let's play it by ear.","meaning":"상황 봐서 결정하자.","structure":"Let's play it by ear.","examples":[{"english":"What's the plan for tomorrow? - I don't know, let's play it by ear.","korean":"내일 계획이 뭐야? - 몰라, 상황 봐서 결정하자."},{"english":"We don't need a strict schedule. We can just play it by ear.","korean":"엄격한 일정은 필요 없어. 우리 그냥 상황 봐서 결정할 수 있어."}],"vocab":[{"word":"play it by ear","meaning":"임기응변으로 하다"},{"word":"plan","meaning":"계획"},{"word":"strict schedule","meaning":"엄격한 일정"}],"practice":{"korean":"저녁으로 뭘 먹을지 확실하지 않아. 그냥 상황 봐서 결정하자.","english":"I'm not sure what to have for dinner. Let's just play it by ear."},"practiceVocab":[{"word":"not sure","meaning":"확실하지 않은"},{"word":"dinner","meaning":"저녁"}]},
            {"pattern":"I'll take care of it.","meaning":"제가 처리할게요.","structure":"I'll take care of it.","examples":[{"english":"Someone needs to book the tickets. - Don't worry, I'll take care of it.","korean":"누가 티켓을 예매해야 해. - 걱정 마, 내가 처리할게."},{"english":"This is a mess. - I'll take care of it.","korean":"이거 엉망이네. - 제가 처리할게요."}],"vocab":[{"word":"take care of","meaning":"~을 처리하다, 돌보다"},{"word":"book","meaning":"예매하다"},{"word":"mess","meaning":"엉망인 상태"}],"practice":{"korean":"고객 불만사항은 제가 처리하겠습니다.","english":"I'll take care of the customer complaint."},"practiceVocab":[{"word":"customer complaint","meaning":"고객 불만"}]},
            {"pattern":"That's a good point.","meaning":"좋은 지적이네요.","structure":"That's a good point.","examples":[{"english":"We should consider the budget. - That's a good point.","korean":"우리는 예산을 고려해야 해요. - 좋은 지적이네요."},{"english":"I hadn't thought of that. That's a good point.","korean":"그건 생각 못 했네요. 좋은 지적이에요."}],"vocab":[{"word":"point","meaning":"요점, 지적"},{"word":"consider","meaning":"고려하다"},{"word":"budget","meaning":"예산"}],"practice":{"korean":"우리는 대안 계획이 필요할지도 몰라. - 그거 좋은 지적이네요.","english":"We might need a backup plan. - That's a good point."},"practiceVocab":[{"word":"backup plan","meaning":"대안 계획"}]},
            {"pattern":"What brings you here?","meaning":"여긴 어쩐 일이야?","structure":"What brings you here?","examples":[{"english":"Hi Tom, I didn't expect to see you. What brings you here?","korean":"안녕 톰, 만날 줄 몰랐네. 여긴 어쩐 일이야?"},{"english":"Welcome to our office. What brings you here today?","korean":"저희 사무실에 오신 것을 환영합니다. 오늘은 어쩐 일로 오셨나요?"}],"vocab":[{"word":"bring","meaning":"데려오다"},{"word":"expect","meaning":"기대하다"},{"word":"welcome","meaning":"환영하다"}],"practice":{"korean":"이 시간에 여긴 어쩐 일이야?","english":"What brings you here at this hour?"},"practiceVocab":[{"word":"at this hour","meaning":"이 시간에"}]}
        ];

        let learningCounts = {};
        // --- TTS (Text-to-Speech) 관련 변수 ---
        const audioCache = {};
        let currentAudio = null;
        let currentPlayingButton = null;

        function initializeCounts() {
            const storedCounts = localStorage.getItem('englishLearningCounts');
            if (storedCounts) {
                learningCounts = JSON.parse(storedCounts);
            } else {
                learningCounts = {};
            }
        }

        function saveCounts() {
            localStorage.setItem('englishLearningCounts', JSON.stringify(learningCounts));
        }

        function getTodayString() {
            const today = new Date();
            return today.toISOString().split('T')[0];
        }

        function displayDate() {
            const today = new Date();
            const year = today.getFullYear();
            const month = today.getMonth() + 1;
            const date = today.getDate();
            currentDateEl.textContent = `${year}년 ${month}월 ${date}일`;
        }

        function getRandomPatterns() {
            const shuffled = [...allPatterns].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, 2);
        }

        function renderPatterns(patterns, showIndex = false) {
            patternContainer.innerHTML = '';
            patterns.forEach((p, index) => {
                const count = learningCounts[p.pattern] || 0;
                const card = document.createElement('div');
                card.className = 'bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300';
                
                let examplesHtml = p.examples.map(ex => `
                    <div class="mt-3">
                        <div class="flex items-center">
                            <p class="text-lg english-text text-gray-800">${ex.english}</p>
                            <button class="tts-btn ml-2 p-1 rounded-full hover:bg-gray-200 transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-gray-500 pointer-events-none">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                                </svg>
                            </button>
                        </div>
                        <p class="text-md text-gray-600">${ex.korean}</p>
                    </div>
                `).join('');

                let vocabHtml = p.vocab.map(v => `
                    <div class="flex items-baseline">
                        <p class="w-1/2 text-md english-text text-gray-700 font-medium">${v.word}</p>
                        <p class="w-1/2 text-sm text-gray-600">${v.meaning}</p>
                    </div>
                `).join('');

                const indexHtml = showIndex ? `<span class="bg-blue-100 text-blue-800 text-sm font-semibold mr-3 px-3 py-1 rounded-full">${index + 1}</span>` : '';
                
                let practiceHtml = '';
                if (p.practice) {
                    practiceHtml = `
                        <div class="mt-6">
                            <h3 class="text-lg font-bold text-gray-700 border-b pb-1">✍️ 직접 말해보기</h3>
                            <div class="mt-3 bg-sky-50 p-4 rounded-lg relative">
                                <button id="show-hint-btn-${index}" data-pattern-string="${p.pattern}" data-hint-target="practice-hint-${index}" class="show-hint-btn absolute top-4 right-4 bg-gray-300 hover:bg-gray-400 text-gray-700 font-bold py-1 px-2 rounded-lg text-xs whitespace-nowrap">힌트 보기</button>
                                <p class="text-md text-gray-700 mb-2">다음 문장을 영어로 입력해보세요:</p>
                                <p class="text-md font-semibold text-sky-800 mb-3">"${p.practice.korean}"</p>
                                <div class="flex items-center space-x-2">
                                    <input type="text" id="practice-input-${index}" class="w-full p-2 border border-gray-300 rounded-md english-text" placeholder="영어를 입력하세요...">
                                    <button id="check-practice-btn-${index}" data-answer="${p.practice.english}" data-input-id="practice-input-${index}" class="check-practice-btn bg-sky-500 hover:bg-sky-600 text-white font-bold py-2 px-4 rounded-lg whitespace-nowrap">정답 확인</button>
                                </div>
                                <div id="practice-hint-${index}" class="mt-3"></div>
                                <div id="practice-result-${index}" class="mt-3 text-center"></div>
                            </div>
                        </div>
                    `;
                }

                card.innerHTML = `
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center">
                            ${indexHtml}
                            <div>
                               <h2 class="text-2xl font-bold text-gray-800 english-text">"${p.pattern}"</h2>
                            </div>
                        </div>
                        <div class="text-right">
                               <button data-pattern="${p.pattern}" class="learn-btn bg-yellow-400 hover:bg-yellow-500 text-white text-sm font-bold py-1 px-3 rounded-full transition-colors">학습 완료!</button>
                               <p class="text-xs text-gray-500 mt-1">학습 <span class="font-bold text-red-500 count-display">${count}</span>회</p>
                        </div>
                    </div>
                    <div class="mt-4">
                        <p class="text-lg text-blue-700 font-semibold mb-2">${p.meaning}</p>
                        <p class="text-sm text-gray-500 bg-gray-100 p-2 rounded-md"><b>🤔 어떻게 사용할까요?</b> ${p.structure || '구조 정보 없음'}</p>
                    </div>
                    
                    <div class="mt-4">
                        <h3 class="text-lg font-bold text-gray-700 border-b pb-1">💡 예문 살펴보기</h3>
                        ${examplesHtml}
                    </div>

                    <div class="mt-6">
                        <h3 class="text-lg font-bold text-gray-700 border-b pb-1">📌 주요 단어</h3>
                        <div class="mt-3 space-y-2">
                           ${vocabHtml}
                        </div>
                    </div>
                    ${practiceHtml}
                `;
                patternContainer.appendChild(card);
            });
        }
        
        function loadDailyPatterns() {
            const todayStr = getTodayString();
            const storedData = JSON.parse(localStorage.getItem('dailyEnglishPatterns'));

            if (storedData && storedData.date === todayStr) {
                renderPatterns(storedData.patterns);
            } else {
                const newPatterns = getRandomPatterns();
                localStorage.setItem('dailyEnglishPatterns', JSON.stringify({ date: todayStr, patterns: newPatterns }));
                renderPatterns(newPatterns);
            }
        }
        
        // --- 전체 패턴 목록 렌더링 함수 ---
        function renderAllPatternsList() {
            allPatternsList.innerHTML = '';
            // 패턴을 가나다순으로 정렬
            const sortedPatterns = [...allPatterns].sort((a, b) => a.pattern.localeCompare(b.pattern));

            sortedPatterns.forEach((p, originalIndex) => {
                const patternItem = document.createElement('div');
                patternItem.className = 'p-4 hover:bg-gray-100 cursor-pointer';
                
                const realIndex = allPatterns.findIndex(item => item.pattern === p.pattern);
                patternItem.dataset.patternIndex = realIndex;

                patternItem.innerHTML = `
                    <div class="flex items-start pointer-events-none">
                        <div class="w-full">
                            <p class="text-lg font-semibold english-text text-gray-800">"${p.pattern}"</p>
                            <p class="text-sm text-gray-600">${p.meaning}</p>
                        </div>
                    </div>
                `;
                allPatternsList.appendChild(patternItem);
            });
        }

        
        // --- 이벤트 리스너 ---

        newPatternBtn.addEventListener('click', () => {
             const newPatterns = getRandomPatterns();
             localStorage.setItem('dailyEnglishPatterns', JSON.stringify({ date: getTodayString(), patterns: newPatterns }));
             renderPatterns(newPatterns);
             window.scrollTo(0, 0);
        });

        patternContainer.addEventListener('click', (e) => {
            if (e.target.classList.contains('learn-btn')) {
                const pattern = e.target.dataset.pattern;
                learningCounts[pattern] = (learningCounts[pattern] || 0) + 1;
                saveCounts();
                e.target.nextElementSibling.querySelector('.count-display').textContent = learningCounts[pattern];
            } else if (e.target.classList.contains('check-practice-btn')) {
                const button = e.target;
                const inputId = button.dataset.inputId;
                const index = inputId.split('-').pop();
                
                const correctAnswer = button.dataset.answer;
                const userInput = document.getElementById(inputId).value.trim();
                const resultDiv = document.getElementById(`practice-result-${index}`);
                
                const normalize = (str) => str.replace(/[.,'’"!?]/g, '').replace(/\s+/g, ' ').toLowerCase();

                let resultMessageHtml = '';
                
                // 정답 문장과 TTS 버튼을 포함하는 HTML 블록
                const answerHtml = `
                    <div class="mt-2 p-2 bg-gray-100 rounded text-left">
                        <p class="text-sm">정답:</p>
                        <div class="flex items-center">
                            <p class="text-md english-text font-semibold text-gray-800">${correctAnswer}</p>
                            <button class="tts-btn ml-2 p-1 rounded-full hover:bg-gray-200 transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-gray-500 pointer-events-none">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                                </svg>
                            </button>
                        </div>
                    </div>
                `;

                if (normalize(userInput) === normalize(correctAnswer)) {
                    // 정답일 경우
                    resultMessageHtml = `<p class="text-green-600 font-bold text-lg">🎉 정답입니다!</p>` + answerHtml;
                } else {
                    // 오답일 경우
                    resultMessageHtml = `
                        <p class="text-red-500 font-bold text-lg">🤔 아쉽네요, 다시 시도해보세요.</p>
                        ${answerHtml}
                    `;
                }

                resultDiv.innerHTML = `
                    ${resultMessageHtml}
                    <button class="retry-practice-btn mt-3 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded-lg" data-practice-index="${index}">
                        다시하기
                    </button>
                `;
                
                button.style.display = 'none';
                document.getElementById(`show-hint-btn-${index}`).style.display = 'none';

            } else if (e.target.classList.contains('show-hint-btn')) {
                const button = e.target;
                const patternString = button.dataset.patternString;
                const hintTargetId = button.dataset.hintTarget;
                const hintDiv = document.getElementById(hintTargetId);

                const patternData = allPatterns.find(p => p.pattern === patternString);

                if (patternData && patternData.practiceVocab && patternData.practiceVocab.length > 0) {
                    const shuffledVocab = [...patternData.practiceVocab].sort(() => 0.5 - Math.random());
                    
                    const hintsHtml = shuffledVocab.map(hint => `
                        <div class="flex items-baseline" style="line-height: 1.3;">
                            <span class="inline-block w-[50%] font-medium english-text pr-2">${hint.word}</span>
                            <span class="inline-block w-[50%] text-sm text-gray-600">${hint.meaning}</span>
                        </div>
                    `).join('');

                    hintDiv.innerHTML = `
                    <div class="bg-white/50 rounded-md p-2 text-left">
                        <div class="flex items-center mb-1">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 mr-0.5 text-yellow-500">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.898 20.572L16.25 21.75l-.648-1.178a2.625 2.625 0 00-1.933-1.933L12.5 18l1.178-.648a2.625 2.625 0 001.933-1.933L16.25 14.25l.648 1.178a2.625 2.625 0 001.933 1.933L20 18l-1.178.648a2.625 2.625 0 00-1.933 1.933z" />
                            </svg>
                            <span class="font-semibold text-sm text-gray-700">힌트</span>
                        </div>
                        <div class="border-t border-gray-300/50 pt-1">${hintsHtml}</div>
                    </div>`;
                    
                } else {
                    hintDiv.innerHTML = `<p class="text-sm text-gray-500">이 문장에 대한 핵심 단어 정보가 없습니다.</p>`;
                }
                
                button.disabled = true;
                button.classList.add('opacity-50', 'cursor-not-allowed');
            } else if (e.target.classList.contains('retry-practice-btn')) {
                const index = e.target.dataset.practiceIndex;

                document.getElementById(`practice-input-${index}`).value = '';
                document.getElementById(`practice-result-${index}`).innerHTML = '';
                document.getElementById(`practice-hint-${index}`).innerHTML = '';

                document.getElementById(`check-practice-btn-${index}`).style.display = '';
                const hintBtn = document.getElementById(`show-hint-btn-${index}`);
                hintBtn.style.display = '';
                hintBtn.disabled = false;
                hintBtn.classList.remove('opacity-50', 'cursor-not-allowed');
            }
        });
        
        // '직접 말해보기' 입력창에서 Enter 키로 정답 확인 기능 추가
        patternContainer.addEventListener('keydown', (e) => {
            if (e.target.id.startsWith('practice-input-') && e.key === 'Enter') {
                e.preventDefault(); 
                const checkButton = e.target.nextElementSibling;
                if (checkButton && checkButton.classList.contains('check-practice-btn')) {
                    checkButton.click();
                }
            }
        });
        
        openTranslatorBtn.addEventListener('click', () => translatorModal.classList.remove('hidden'));
        closeTranslatorBtn.addEventListener('click', () => {
            translatorModal.classList.add('hidden');
            if (currentAudio) {
                currentAudio.pause();
                currentAudio = null;
            }
        });

        // '전체 패턴 보기' 모달 이벤트
        allPatternsBtn.addEventListener('click', () => {
            allPatternsModal.classList.remove('hidden');
        });

        closeAllPatternsBtn.addEventListener('click', () => {
            allPatternsModal.classList.add('hidden');
        });

        allPatternsList.addEventListener('click', (e) => {
            const selectedPatternDiv = e.target.closest('[data-pattern-index]');
            if (selectedPatternDiv) {
                const patternIndex = parseInt(selectedPatternDiv.dataset.patternIndex, 10);
                const selectedPattern = allPatterns[patternIndex];
                if (selectedPattern) {
                    renderPatterns([selectedPattern]);
                    allPatternsModal.classList.add('hidden');
                    window.scrollTo(0, 0);
                }
            }
        });

        translateBtn.addEventListener('click', async () => {
            const koreanText = koreanInput.value.trim();
            if (!koreanText) {
                showAlert('번역할 한국어 문장을 입력해주세요.');
                return;
            }

            translationResult.innerHTML = '<div class="loader mx-auto"></div>';

            try {
                const resultText = await getNativeTranslation(koreanText);
                const lines = resultText.split('\n').filter(line => line.trim() !== '');

                const englishText = lines[1] || '번역 결과를 찾을 수 없습니다.';
                const explanationText = lines.slice(3).join('<br>') || '설명을 찾을 수 없습니다.';

                translationResult.innerHTML = `
                    <h3 class="text-xl font-bold text-gray-800 mt-2">자연스러운 표현</h3>
                    <div class="flex items-center">
                        <p class="text-lg english-text text-gray-800">${englishText}</p>
                        <button class="tts-btn ml-2 p-1 rounded-full hover:bg-gray-200 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 text-gray-500 pointer-events-none">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
                            </svg>
                        </button>
                    </div>
                    <h4 class="text-lg font-semibold text-gray-700 mt-2">💡 이렇게 표현하는 이유</h4>
                    <p>${explanationText.replace('#### 💡 이렇게 표현하는 이유', '').trim()}</p>
                `;

            } catch (error) {
                console.error('Translation error:', error);
                showAlert(`번역 중 오류가 발생했습니다. 서버 응답: ${error.message}`);
                translationResult.innerHTML = `<p class="text-red-500">오류가 발생했습니다. 다시 시도해 주세요.</p>`;
            }
        });

        function showAlert(message) {
            customAlertMessage.textContent = message;
            customAlertModal.classList.remove('hidden');
        }
        
        customAlertCloseBtn.addEventListener('click', () => {
            customAlertModal.classList.add('hidden');
        });

        // --- TTS (Text-to-Speech) 관련 함수 ---

        function base64ToArrayBuffer(base64) {
            const binaryString = window.atob(base64);
            const len = binaryString.length;
            const bytes = new Uint8Array(len);
            for (let i = 0; i < len; i++) {
                bytes[i] = binaryString.charCodeAt(i);
            }
            return bytes.buffer;
        }

        function pcmToWav(pcmDataView, sampleRate) {
            const header = new ArrayBuffer(44);
            const view = new DataView(header);
            const numChannels = 1;
            const bytesPerSample = 2; // 16-bit
            const blockAlign = numChannels * bytesPerSample;
            const byteRate = sampleRate * blockAlign;
            const dataSize = pcmDataView.byteLength;

            // RIFF chunk descriptor
            writeString(view, 0, 'RIFF');
            view.setUint32(4, 36 + dataSize, true);
            writeString(view, 8, 'WAVE');
            // "fmt " sub-chunk
            writeString(view, 12, 'fmt ');
            view.setUint32(16, 16, true); // Subchunk1Size for PCM
            view.setUint16(20, 1, true); // AudioFormat for PCM
            view.setUint16(22, numChannels, true);
            view.setUint32(24, sampleRate, true);
            view.setUint32(28, byteRate, true);
            view.setUint16(32, blockAlign, true);
            view.setUint16(34, 16, true); // BitsPerSample
            // "data" sub-chunk
            writeString(view, 36, 'data');
            view.setUint32(40, dataSize, true);

            function writeString(view, offset, string) {
                for (let i = 0; i < string.length; i++) {
                    view.setUint8(offset + i, string.charCodeAt(i));
                }
            }
            
            return new Blob([view.buffer, pcmDataView.buffer], { type: 'audio/wav' });
        }
        
        async function playAudio(text, buttonEl) {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
            }
            document.querySelectorAll('.tts-btn.is-playing').forEach(btn => btn.classList.remove('is-playing'));

            if (currentPlayingButton === buttonEl) {
                currentPlayingButton = null;
                currentAudio = null;
                return;
            }

            buttonEl.classList.add('is-playing');
            currentPlayingButton = buttonEl;

            const playFromAudioObject = (audioObj) => {
                currentAudio = audioObj;
                currentAudio.currentTime = 0;

                const onEnd = () => {
                    buttonEl.classList.remove('is-playing');
                    currentAudio.removeEventListener('ended', onEnd);
                    if (currentPlayingButton === buttonEl) {
                        currentPlayingButton = null;
                        currentAudio = null;
                    }
                };
                currentAudio.addEventListener('ended', onEnd);
                
                const playPromise = currentAudio.play();
                if (playPromise !== undefined) {
                    playPromise.catch(error => {
                        console.error("Audio play failed:", error);
                        showAlert(`오디오 재생에 실패했습니다: ${error.message}`);
                        onEnd();
                    });
                }
            };

            if (audioCache[text]) {
                playFromAudioObject(audioCache[text]);
                return;
            }

            try {
                const response = await fetch('/api/gemini', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ action: 'tts', text: text })
                });

                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`API call failed: ${response.status} - ${errorText}`);
                }
                const result = await response.json();
                
                const audioContent = result?.candidates?.[0]?.content?.parts?.[0];
                const audioData = audioContent?.inlineData?.data;
                const mimeType = audioContent?.inlineData?.mimeType;

                if (audioData && mimeType) {
                    const sampleRateMatch = mimeType.match(/rate=(\d+)/);
                    const sampleRate = sampleRateMatch ? parseInt(sampleRateMatch[1], 10) : 24000;
                    
                    const pcmData = base64ToArrayBuffer(audioData);
                    const wavBlob = pcmToWav(new DataView(pcmData), sampleRate);
                    const audioUrl = URL.createObjectURL(wavBlob);
                    const newAudio = new Audio(audioUrl);
                    
                    newAudio.onerror = function() {
                        console.error("Audio format error.");
                        showAlert("오디오 파일 형식 오류가 발생했습니다.");
                        buttonEl.classList.remove('is-playing');
                        if (currentPlayingButton === buttonEl) {
                           currentPlayingButton = null;
                        }
                    };

                    audioCache[text] = newAudio;
                    playFromAudioObject(newAudio);

                } else {
                    throw new Error("API 응답에 오디오 데이터가 없습니다.");
                }
            } catch (error) {
                console.error("TTS Error:", error);
                showAlert(`음성 생성 중 오류가 발생했습니다: ${error.message}`);
                buttonEl.classList.remove('is-playing');
                currentPlayingButton = null;
            }
        }

        document.body.addEventListener('click', (e) => {
            const ttsButton = e.target.closest('.tts-btn');
            if (ttsButton) {
                const textElement = ttsButton.previousElementSibling;
                
                if (textElement && textElement.classList.contains('english-text')) {
                    const text = textElement.textContent.trim();
                    if (text) {
                        playAudio(text, ttsButton);
                    }
                }
            }
        });
        
        async function getNativeTranslation(text) {
            const systemPrompt = `You are an expert in Korean-English translation. Your role is to translate the user's Korean sentence into a natural, colloquial English sentence that a native speaker would use in everyday conversation. Your response must be in Korean and follow this structure exactly:
### 자연스러운 표현
[Provide the most natural English sentence here]
#### 💡 이렇게 표현하는 이유
[Provide a brief and clear explanation in Korean about why this expression is natural and used by native speakers. Do not include pinyin.]`;

            try {
                const response = await fetch('/api/gemini', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        action: 'translate',
                        text: text,
                        systemPrompt: systemPrompt
                    })
                });

                if (!response.ok) {
                    const errorText = await response.text();
                    console.error("API Error:", errorText);
                    throw new Error(`API call failed: ${response.status} - ${errorText}`);
                }

                const result = await response.json();
                
                if (!result.candidates || result.candidates.length === 0 || !result.candidates[0].content?.parts?.[0]?.text) {
                     console.error("Invalid API response structure:", result);
                     throw new Error("API 응답이 비어있거나 형식이 올바르지 않습니다.");
                }
                return result.candidates[0].content.parts[0].text;
            } catch(error) {
                 console.error("Translation function error:", error);
                 throw error;
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            displayDate();
            initializeCounts();
            loadDailyPatterns();
            renderAllPatternsList();
        });
    </script>
</body>
</html>

